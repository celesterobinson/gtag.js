{"code":"!function(e){var r={};function t(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var o in e)t.d(a,o,function(r){return e[r]}.bind(null,o));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"\",t(t.s=57)}([function(e,r,t){\"use strict\";function a(e,r,t){var a=t?\" !== \":\" === \",o=t?\" || \":\" && \",s=t?\"!\":\"\",i=t?\"\":\"!\";switch(e){case\"null\":return r+a+\"null\";case\"array\":return s+\"Array.isArray(\"+r+\")\";case\"object\":return\"(\"+s+r+o+\"typeof \"+r+a+'\"object\"'+o+i+\"Array.isArray(\"+r+\"))\";case\"integer\":return\"(typeof \"+r+a+'\"number\"'+o+i+\"(\"+r+\" % 1)\"+o+r+a+r+\")\";default:return\"typeof \"+r+a+'\"'+e+'\"'}}e.exports={copy:function(e,r){for(var t in r=r||{},e)r[t]=e[t];return r},checkDataType:a,checkDataTypes:function(e,r){switch(e.length){case 1:return a(e[0],r,!0);default:var t=\"\",o=s(e);for(var i in o.array&&o.object&&(t=o.null?\"(\":\"(!\"+r+\" || \",t+=\"typeof \"+r+' !== \"object\")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer,o)t+=(t?\" && \":\"\")+a(i,r,!0);return t}},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var s=r[a];o[s]?t[t.length]=s:\"array\"===e&&\"array\"===s&&(t[t.length]=s)}if(t.length)return t}else{if(o[r])return[r];if(\"array\"===e&&\"array\"===r)return[\"array\"]}},toHash:s,getProperty:l,escapeQuotes:c,equal:t(5),ucs2length:t(23),varOccurences:function(e,r){r+=\"[^0-9]\";var t=e.match(new RegExp(r,\"g\"));return t?t.length:0},varReplace:function(e,r,t){return r+=\"([^0-9])\",t=t.replace(/\\$/g,\"$$$$\"),e.replace(new RegExp(r,\"g\"),t+\"$1\")},cleanUpCode:function(e){return e.replace(u,\"\").replace(h,\"\").replace(d,\"if (!($1))\")},finalCleanUpCode:function(e,r){var t=e.match(f);t&&2==t.length&&(e=r?e.replace(m,\"\").replace(y,P):e.replace(p,\"\").replace(v,g));return(t=e.match(E))&&3===t.length?e.replace(w,\"\"):e},schemaHasRules:function(e,r){if(\"boolean\"==typeof e)return!e;for(var t in e)if(r[t])return!0},schemaHasRulesExcept:function(e,r,t){if(\"boolean\"==typeof e)return!e&&\"not\"!=t;for(var a in e)if(a!=t&&r[a])return!0},toQuotedString:b,getPathExpr:function(e,r,t,a){return x(e,t?\"'/' + \"+r+(a?\"\":\".replace(/~/g, '~0').replace(/\\\\//g, '~1')\"):a?\"'[' + \"+r+\" + ']'\":\"'[\\\\'' + \"+r+\" + '\\\\']'\")},getPath:function(e,r,t){var a=b(t?\"/\"+I(r):l(r));return x(e,a)},getData:function(e,r,t){var a,o,s,i;if(\"\"===e)return\"rootData\";if(\"/\"==e[0]){if(!S.test(e))throw new Error(\"Invalid JSON-pointer: \"+e);o=e,s=\"rootData\"}else{if(!(i=e.match(_)))throw new Error(\"Invalid JSON-pointer: \"+e);if(a=+i[1],\"#\"==(o=i[2])){if(a>=r)throw new Error(\"Cannot access property/index \"+a+\" levels up, current level is \"+r);return t[r-a]}if(a>r)throw new Error(\"Cannot access data \"+a+\" levels up, current level is \"+r);if(s=\"data\"+(r-a||\"\"),!o)return s}for(var n=s,c=o.split(\"/\"),u=0;u<c.length;u++){var h=c[u];h&&(s+=l(F(h)),n+=\" && \"+s)}return n},unescapeFragment:function(e){return F(decodeURIComponent(e))},unescapeJsonPointer:F,escapeFragment:function(e){return encodeURIComponent(I(e))},escapeJsonPointer:I};var o=s([\"string\",\"number\",\"integer\",\"boolean\",\"null\"]);function s(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var i=/^[a-z$_][a-z$_0-9]*$/i,n=/'|\\\\/g;function l(e){return\"number\"==typeof e?\"[\"+e+\"]\":i.test(e)?\".\"+e:\"['\"+c(e)+\"']\"}function c(e){return e.replace(n,\"\\\\$&\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\f/g,\"\\\\f\").replace(/\\t/g,\"\\\\t\")}var u=/else\\s*{\\s*}/g,h=/if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g,d=/if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;var f=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,v=\"return errors === 0;\",g=\"validate.errors = null; return true;\",y=/if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/,P=\"return data;\",E=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,w=/if \\(rootData === undefined\\) rootData = data;/;function b(e){return\"'\"+c(e)+\"'\"}var S=/^\\/(?:[^~]|~0|~1)*$/,_=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function x(e,r){return'\"\"'==e?r:(e+\" + \"+r).replace(/' \\+ '/g,\"\")}function I(e){return e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function F(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}},function(e,r,t){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var a,o=r.ERR_CONNECTION_DESTROYED=\"ConnectionDestroyed\",s=r.ERR_CONNECTION_TIMEOUT=\"ConnectionTimeout\",i=r.ERR_NOT_IN_IFRAME=\"NotInIframe\",n={\"http:\":\"80\",\"https:\":\"443\"},l=/^(https?:)?\\/\\/([^\\/:]+)(:(\\d+))?/,c={ERR_CONNECTION_DESTROYED:o,ERR_CONNECTION_TIMEOUT:s,ERR_NOT_IN_IFRAME:i,Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},u=(a=0,function(){return++a}),h=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];var a;c.debug&&(a=console).log.apply(a,[\"[Penpal]\"].concat(r))},d=function(e){var r=[];return e(function(){r.forEach(function(e){e()})}),{then:function(e){r.push(e)}}},f=function(e){return{name:e.name,message:e.message,stack:e.stack}},p=function(e,r,t,a){var s=r.localName,i=r.local,n=r.remote,l=r.remoteOrigin,d=!1;h(s+\": Connecting call sender\");var f=function(e){return function(){for(var r=arguments.length,t=Array(r),a=0;a<r;a++)t[a]=arguments[a];if(h(s+\": Sending \"+e+\"() call\"),d){var f=new Error(\"Unable to send \"+e+\"() call due to destroyed connection\");throw f.code=o,f}return new c.Promise(function(r,a){var o=u();i.addEventListener(\"message\",function t(c){if(c.source===n&&c.origin===l&&\"reply\"===c.data.penpal&&c.data.id===o){h(s+\": Received \"+e+\"() reply\"),i.removeEventListener(\"message\",t);var u=c.data.returnValue;c.data.returnValueIsError&&(d=u,f=new Error,Object.keys(d).forEach(function(e){return f[e]=d[e]}),u=f),(\"fulfilled\"===c.data.resolution?r:a)(u)}var d,f}),n.postMessage({penpal:\"call\",id:o,methodName:e,args:t},l)})}};a.then(function(){d=!0}),t.reduce(function(e,r){return e[r]=f(r),e},e)},m=function(e,r,t){var a=e.localName,o=e.local,s=e.remote,i=e.remoteOrigin,n=!1;h(a+\": Connecting call receiver\");var l=function(e){if(e.source===s&&e.origin===i&&\"call\"===e.data.penpal){var t=e.data,o=t.methodName,l=t.args,u=t.id;if(h(a+\": Received \"+o+\"() call\"),o in r){var d=function(e){return function(r){if(h(a+\": Sending \"+o+\"() reply\"),n)h(a+\": Unable to send \"+o+\"() reply due to destroyed connection\");else{var t={penpal:\"reply\",id:u,resolution:e,returnValue:r};\"rejected\"===e&&r instanceof Error&&(t.returnValue=f(r),t.returnValueIsError=!0);try{s.postMessage(t,i)}catch(e){throw\"DataCloneError\"===e.name&&s.postMessage({penpal:\"reply\",id:u,resolution:\"rejected\",returnValue:f(e),returnValueIsError:!0},i),e}}}};new c.Promise(function(e){return e(r[o].apply(r,l))}).then(d(\"fulfilled\"),d(\"rejected\"))}}};o.addEventListener(\"message\",l),t.then(function(){n=!0,o.removeEventListener(\"message\",l)})};c.connectToChild=function(e){var r=e.url,t=e.appendTo,a=e.methods,i=void 0===a?{}:a,u=e.timeout,f=void 0,v=new d(function(e){f=e}),g=window,y=document.createElement(\"iframe\");(t||document.body).appendChild(y),v.then(function(){y.parentNode&&y.parentNode.removeChild(y)});var P=y.contentWindow||y.contentDocument.parentWindow,E=function(e){var r=document.location,t=l.exec(e),a=void 0,o=void 0,s=void 0;return t?(a=t[1]?t[1]:r.protocol,o=t[2],s=t[4]):(a=r.protocol,o=r.hostname,s=r.port),a+\"//\"+o+(s&&s!==n[a]?\":\"+s:\"\")}(r);return{promise:new c.Promise(function(e,t){var a=void 0;void 0!==u&&(a=setTimeout(function(){var e=new Error(\"Connection to child timed out after \"+u+\"ms\");e.code=s,t(e),f()},u));var n={},l=void 0,c=void 0,w=function(r){if(r.source===P&&r.origin===E&&\"handshake\"===r.data.penpal){h(\"Parent: Received handshake, sending reply\"),r.source.postMessage({penpal:\"handshake-reply\",methodNames:Object.keys(i)},r.origin);var t={localName:\"Parent\",local:g,remote:P,remoteOrigin:r.origin};c&&c();var o=new d(function(e){v.then(e),c=e});m(t,i,o),l&&l.forEach(function(e){delete n[e]}),l=r.data.methodNames,p(n,t,l,v),clearTimeout(a),e(n)}};g.addEventListener(\"message\",w),v.then(function(){g.removeEventListener(\"message\",w);var e=new Error(\"Connection destroyed\");e.code=o,t(e)}),h(\"Parent: Loading iframe\"),y.src=r}),iframe:y,destroy:f}},c.connectToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.parentOrigin,t=void 0===r?\"*\":r,a=e.methods,n=void 0===a?{}:a,l=e.timeout;if(window===window.top){var u=new Error(\"connectToParent() must be called within an iframe\");throw u.code=i,u}var f=void 0,v=new d(function(e){f=e}),g=window,y=g.parent;return{promise:new c.Promise(function(e,r){var a=void 0;void 0!==l&&(a=setTimeout(function(){var e=new Error(\"Connection to parent timed out after \"+l+\"ms\");e.code=s,r(e),f()},l));var i=function r(o){if((\"*\"===t||t===o.origin)&&o.source===y&&\"handshake-reply\"===o.data.penpal){h(\"Child: Received handshake reply\"),g.removeEventListener(\"message\",r);var s={localName:\"Child\",local:g,remote:y,remoteOrigin:o.origin},i={};m(s,n,v),p(i,s,o.data.methodNames,v),clearTimeout(a),e(i)}};g.addEventListener(\"message\",i),v.then(function(){g.removeEventListener(\"message\",i);var e=new Error(\"Connection destroyed\");e.code=o,r(e)}),h(\"Child: Sending handshake\"),y.postMessage({penpal:\"handshake\",methodNames:Object.keys(n)},t)}),destroy:f}},r.default=c},function(e,r){var t;t=function(){return this}();try{t=t||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(t=window)}e.exports=t},function(e,r,t){(function(r){var a=r||self,o=a.Promise;void 0===o&&(o=t(17),a.Promise=void 0),e.exports=o}).call(this,t(2))},function(e,r,t){\"use strict\";var a=t(22),o=t(5),s=t(0),i=t(8),n=t(24);function l(e,r,t){var a=this._refs[t];if(\"string\"==typeof a){if(!this._refs[a])return l.call(this,e,r,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof i)return f(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var o,s,n,u=c.call(this,r,t);return u&&(o=u.schema,r=u.root,n=u.baseId),o instanceof i?s=o.validate||e.call(this,o.schema,r,void 0,n):void 0!==o&&(s=f(o,this._opts.inlineRefs)?o:e.call(this,o,r,void 0,n)),s}function c(e,r){var t=a.parse(r),o=m(t),s=p(this._getId(e.schema));if(0===Object.keys(e.schema).length||o!==s){var n=g(o),l=this._refs[n];if(\"string\"==typeof l)return function(e,r,t){var a=c.call(this,e,r);if(a){var o=a.schema,s=a.baseId;e=a.root;var i=this._getId(o);return i&&(s=y(s,i)),h.call(this,t,s,o,e)}}.call(this,e,l,t);if(l instanceof i)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[n])instanceof i))return;if(l.validate||this._compile(l),n==g(r))return{schema:l,root:e,baseId:s};e=l}if(!e.schema)return;s=p(this._getId(e.schema))}return h.call(this,t,s,e.schema,e)}e.exports=l,l.normalizeId=g,l.fullPath=p,l.url=y,l.ids=function(e){var r=g(this._getId(e)),t={\"\":r},i={\"\":p(r,!1)},l={},c=this;return n(e,{allKeys:!0},function(e,r,n,u,h,d,f){if(\"\"!==r){var p=c._getId(e),m=t[u],v=i[u]+\"/\"+h;if(void 0!==f&&(v+=\"/\"+(\"number\"==typeof f?f:s.escapeFragment(f))),\"string\"==typeof p){p=m=g(m?a.resolve(m,p):p);var y=c._refs[p];if(\"string\"==typeof y&&(y=c._refs[y]),y&&y.schema){if(!o(e,y.schema))throw new Error('id \"'+p+'\" resolves to more than one schema')}else if(p!=g(v))if(\"#\"==p[0]){if(l[p]&&!o(e,l[p]))throw new Error('id \"'+p+'\" resolves to more than one schema');l[p]=e}else c._refs[p]=v}t[r]=m,i[r]=v}}),l},l.inlineRef=f,l.schema=c;var u=s.toHash([\"properties\",\"patternProperties\",\"enum\",\"dependencies\",\"definitions\"]);function h(e,r,t,a){if(e.fragment=e.fragment||\"\",\"/\"==e.fragment.slice(0,1)){for(var o=e.fragment.split(\"/\"),i=1;i<o.length;i++){var n=o[i];if(n){if(void 0===(t=t[n=s.unescapeFragment(n)]))break;var l;if(!u[n]&&((l=this._getId(t))&&(r=y(r,l)),t.$ref)){var h=y(r,t.$ref),d=c.call(this,a,h);d&&(t=d.schema,a=d.root,r=d.baseId)}}}return void 0!==t&&t!==a.schema?{schema:t,root:a,baseId:r}:void 0}}var d=s.toHash([\"type\",\"format\",\"pattern\",\"maxLength\",\"minLength\",\"maxProperties\",\"minProperties\",\"maxItems\",\"minItems\",\"maximum\",\"minimum\",\"uniqueItems\",\"multipleOf\",\"required\",\"enum\"]);function f(e,r){return!1!==r&&(void 0===r||!0===r?function e(r){var t;if(Array.isArray(r)){for(var a=0;a<r.length;a++)if(\"object\"==typeof(t=r[a])&&!e(t))return!1}else for(var o in r){if(\"$ref\"==o)return!1;if(\"object\"==typeof(t=r[o])&&!e(t))return!1}return!0}(e):r?function e(r){var t,a=0;if(Array.isArray(r)){for(var o=0;o<r.length;o++)if(\"object\"==typeof(t=r[o])&&(a+=e(t)),a==1/0)return 1/0}else for(var s in r){if(\"$ref\"==s)return 1/0;if(d[s])a++;else if(\"object\"==typeof(t=r[s])&&(a+=e(t)+1),a==1/0)return 1/0}return a}(e)<=r:void 0)}function p(e,r){return!1!==r&&(e=g(e)),m(a.parse(e))}function m(e){return a.serialize(e).split(\"#\")[0]+\"#\"}var v=/#\\/?$/;function g(e){return e?e.replace(v,\"\"):\"\"}function y(e,r){return r=g(r),a.resolve(e,r)}},function(e,r,t){\"use strict\";var a=Array.isArray,o=Object.keys,s=Object.prototype.hasOwnProperty;e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&\"object\"==typeof r&&\"object\"==typeof t){var i,n,l,c=a(r),u=a(t);if(c&&u){if((n=r.length)!=t.length)return!1;for(i=n;0!=i--;)if(!e(r[i],t[i]))return!1;return!0}if(c!=u)return!1;var h=r instanceof Date,d=t instanceof Date;if(h!=d)return!1;if(h&&d)return r.getTime()==t.getTime();var f=r instanceof RegExp,p=t instanceof RegExp;if(f!=p)return!1;if(f&&p)return r.toString()==t.toString();var m=o(r);if((n=m.length)!==o(t).length)return!1;for(i=n;0!=i--;)if(!s.call(t,m[i]))return!1;for(i=n;0!=i--;)if(!e(r[l=m[i]],t[l]))return!1;return!0}return r!=r&&t!=t}},function(e,r,t){\"use strict\";var a=t(4);function o(e,r,t){this.message=t||o.message(e,r),this.missingRef=a.url(e,r),this.missingSchema=a.normalizeId(a.fullPath(this.missingRef))}function s(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:s(function(e){this.message=\"validation failed\",this.errors=e,this.ajv=this.validation=!0}),MissingRef:s(o)},o.message=function(e,r){return\"can't resolve reference \"+r+\" from id \"+e}},function(e,r,t){var a=Array.prototype.slice,o=t(54),s=t(55),i=e.exports=function(e,r,t){return t||(t={}),e===r||(e instanceof Date&&r instanceof Date?e.getTime()===r.getTime():!e||!r||\"object\"!=typeof e&&\"object\"!=typeof r?t.strict?e===r:e==r:function(e,r,t){var c,u;if(n(e)||n(r))return!1;if(e.prototype!==r.prototype)return!1;if(s(e))return!!s(r)&&(e=a.call(e),r=a.call(r),i(e,r,t));if(l(e)){if(!l(r))return!1;if(e.length!==r.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==r[c])return!1;return!0}try{var h=o(e),d=o(r)}catch(e){return!1}if(h.length!=d.length)return!1;for(h.sort(),d.sort(),c=h.length-1;c>=0;c--)if(h[c]!=d[c])return!1;for(c=h.length-1;c>=0;c--)if(u=h[c],!i(e[u],r[u],t))return!1;return typeof e==typeof r}(e,r,t))};function n(e){return null==e}function l(e){return!(!e||\"object\"!=typeof e||\"number\"!=typeof e.length)&&(\"function\"==typeof e.copy&&\"function\"==typeof e.slice&&!(e.length>0&&\"number\"!=typeof e[0]))}},function(e,r,t){\"use strict\";var a=t(0);e.exports=function(e){a.copy(e,this)}},function(e,r,t){\"use strict\";e.exports=function(e,r){r||(r={}),\"function\"==typeof r&&(r={cmp:r});var t,a=\"boolean\"==typeof r.cycles&&r.cycles,o=r.cmp&&(t=r.cmp,function(e){return function(r,a){var o={key:r,value:e[r]},s={key:a,value:e[a]};return t(o,s)}}),s=[];return function e(r){if(r&&r.toJSON&&\"function\"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if(\"number\"==typeof r)return isFinite(r)?\"\"+r:\"null\";if(\"object\"!=typeof r)return JSON.stringify(r);var t,i;if(Array.isArray(r)){for(i=\"[\",t=0;t<r.length;t++)t&&(i+=\",\"),i+=e(r[t])||\"null\";return i+\"]\"}if(null===r)return\"null\";if(-1!==s.indexOf(r)){if(a)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}var n=s.push(r)-1,l=Object.keys(r).sort(o&&o(r));for(i=\"\",t=0;t<l.length;t++){var c=l[t],u=e(r[c]);u&&(i&&(i+=\",\"),i+=JSON.stringify(c)+\":\"+u)}return s.splice(n,1),\"{\"+i+\"}\"}}(e)}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\"\",o=!0===e.schema.$async,s=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,\"$ref\"),i=e.self._getId(e.schema);if(e.isTop&&(a+=\" var validate = \",o&&(e.async=!0,a+=\"async \"),a+=\"function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; \",i&&(e.opts.sourceCode||e.opts.processCode)&&(a+=\" /*# sourceURL=\"+i+\" */ \")),\"boolean\"==typeof e.schema||!s&&!e.schema.$ref){var n=e.level,l=e.dataLevel,c=e.schema[\"false schema\"],u=e.schemaPath+e.util.getProperty(\"false schema\"),h=e.errSchemaPath+\"/false schema\",d=!e.opts.allErrors,f=\"data\"+(l||\"\"),p=\"valid\"+n;if(!1===e.schema){e.isTop?d=!0:a+=\" var \"+p+\" = false; \",(K=K||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'false schema' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'boolean schema is false' \"),e.opts.verbose&&(a+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),a+=\" } \"):a+=\" {} \";var m=a;a=K.pop(),!e.compositeRule&&d?e.async?a+=\" throw new ValidationError([\"+m+\"]); \":a+=\" validate.errors = [\"+m+\"]; return false; \":a+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else e.isTop?a+=o?\" return data; \":\" validate.errors = null; return true; \":a+=\" var \"+p+\" = true; \";return e.isTop&&(a+=\" }; return validate; \"),a}if(e.isTop){var v=e.isTop;n=e.level=0,l=e.dataLevel=0,f=\"data\";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],a+=\" var vErrors = null; \",a+=\" var errors = 0;     \",a+=\" if (rootData === undefined) rootData = data; \"}else{n=e.level,f=\"data\"+((l=e.dataLevel)||\"\");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),o&&!e.async)throw new Error(\"async schema in sync schema\");a+=\" var errs_\"+n+\" = errors;\"}p=\"valid\"+n,d=!e.opts.allErrors;var g=\"\",y=\"\",P=e.schema.type,E=Array.isArray(P);if(E&&1==P.length&&(P=P[0],E=!1),e.schema.$ref&&s){if(\"fail\"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path \"'+e.errSchemaPath+'\" (see option extendRefs)');!0!==e.opts.extendRefs&&(s=!1,e.logger.warn('$ref: keywords ignored in schema at path \"'+e.errSchemaPath+'\"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=\" \"+e.RULES.all.$comment.code(e,\"$comment\")),P){if(e.opts.coerceTypes)var w=e.util.coerceToTypes(e.opts.coerceTypes,P);var b=e.RULES.types[P];if(w||E||!0===b||b&&!Z(b)){u=e.schemaPath+\".type\",h=e.errSchemaPath+\"/type\",u=e.schemaPath+\".type\",h=e.errSchemaPath+\"/type\";var S=E?\"checkDataTypes\":\"checkDataType\";if(a+=\" if (\"+e.util[S](P,f,!0)+\") { \",w){var _=\"dataType\"+n,x=\"coerced\"+n;a+=\" var \"+_+\" = typeof \"+f+\"; \",\"array\"==e.opts.coerceTypes&&(a+=\" if (\"+_+\" == 'object' && Array.isArray(\"+f+\")) \"+_+\" = 'array'; \"),a+=\" var \"+x+\" = undefined; \";var I=\"\",F=w;if(F)for(var R,D=-1,$=F.length-1;D<$;)R=F[D+=1],D&&(a+=\" if (\"+x+\" === undefined) { \",I+=\"}\"),\"array\"==e.opts.coerceTypes&&\"array\"!=R&&(a+=\" if (\"+_+\" == 'array' && \"+f+\".length == 1) { \"+x+\" = \"+f+\" = \"+f+\"[0]; \"+_+\" = typeof \"+f+\";  } \"),\"string\"==R?a+=\" if (\"+_+\" == 'number' || \"+_+\" == 'boolean') \"+x+\" = '' + \"+f+\"; else if (\"+f+\" === null) \"+x+\" = ''; \":\"number\"==R||\"integer\"==R?(a+=\" if (\"+_+\" == 'boolean' || \"+f+\" === null || (\"+_+\" == 'string' && \"+f+\" && \"+f+\" == +\"+f+\" \",\"integer\"==R&&(a+=\" && !(\"+f+\" % 1)\"),a+=\")) \"+x+\" = +\"+f+\"; \"):\"boolean\"==R?a+=\" if (\"+f+\" === 'false' || \"+f+\" === 0 || \"+f+\" === null) \"+x+\" = false; else if (\"+f+\" === 'true' || \"+f+\" === 1) \"+x+\" = true; \":\"null\"==R?a+=\" if (\"+f+\" === '' || \"+f+\" === 0 || \"+f+\" === false) \"+x+\" = null; \":\"array\"==e.opts.coerceTypes&&\"array\"==R&&(a+=\" if (\"+_+\" == 'string' || \"+_+\" == 'number' || \"+_+\" == 'boolean' || \"+f+\" == null) \"+x+\" = [\"+f+\"]; \");a+=\" \"+I+\" if (\"+x+\" === undefined) {   \",(K=K||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { type: '\",a+=E?\"\"+P.join(\",\"):\"\"+P,a+=\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should be \",a+=E?\"\"+P.join(\",\"):\"\"+P,a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+u+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),a+=\" } \"):a+=\" {} \";m=a;a=K.pop(),!e.compositeRule&&d?e.async?a+=\" throw new ValidationError([\"+m+\"]); \":a+=\" validate.errors = [\"+m+\"]; return false; \":a+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else {  \";var O=l?\"data\"+(l-1||\"\"):\"parentData\";a+=\" \"+f+\" = \"+x+\"; \",l||(a+=\"if (\"+O+\" !== undefined)\"),a+=\" \"+O+\"[\"+(l?e.dataPathArr[l]:\"parentDataProperty\")+\"] = \"+x+\"; } \"}else{(K=K||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { type: '\",a+=E?\"\"+P.join(\",\"):\"\"+P,a+=\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should be \",a+=E?\"\"+P.join(\",\"):\"\"+P,a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+u+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),a+=\" } \"):a+=\" {} \";m=a;a=K.pop(),!e.compositeRule&&d?e.async?a+=\" throw new ValidationError([\"+m+\"]); \":a+=\" validate.errors = [\"+m+\"]; return false; \":a+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}a+=\" } \"}}if(e.schema.$ref&&!s)a+=\" \"+e.RULES.all.$ref.code(e,\"$ref\")+\" \",d&&(a+=\" } if (errors === \",a+=v?\"0\":\"errs_\"+n,a+=\") { \",y+=\"}\");else{var j=e.RULES;if(j)for(var C=-1,A=j.length-1;C<A;)if(Z(b=j[C+=1])){if(b.type&&(a+=\" if (\"+e.util.checkDataType(b.type,f)+\") { \"),e.opts.useDefaults&&!e.compositeRule)if(\"object\"==b.type&&e.schema.properties){c=e.schema.properties;var T=Object.keys(c);if(T)for(var k,N=-1,z=T.length-1;N<z;){if(void 0!==(V=c[k=T[N+=1]]).default)a+=\"  if (\"+(U=f+e.util.getProperty(k))+\" === undefined) \"+U+\" = \",\"shared\"==e.opts.useDefaults?a+=\" \"+e.useDefault(V.default)+\" \":a+=\" \"+JSON.stringify(V.default)+\" \",a+=\"; \"}}else if(\"array\"==b.type&&Array.isArray(e.schema.items)){var L=e.schema.items;if(L){D=-1;for(var V,M=L.length-1;D<M;){var U;if(void 0!==(V=L[D+=1]).default)a+=\"  if (\"+(U=f+\"[\"+D+\"]\")+\" === undefined) \"+U+\" = \",\"shared\"==e.opts.useDefaults?a+=\" \"+e.useDefault(V.default)+\" \":a+=\" \"+JSON.stringify(V.default)+\" \",a+=\"; \"}}}var q=b.rules;if(q)for(var Q,H=-1,B=q.length-1;H<B;)if(G(Q=q[H+=1])){var J=Q.code(e,Q.keyword,b.type);J&&(a+=\" \"+J+\" \",d&&(g+=\"}\"))}if(d&&(a+=\" \"+g+\" \",g=\"\"),b.type&&(a+=\" } \",P&&P===b.type&&!w)){a+=\" else { \";var K;u=e.schemaPath+\".type\",h=e.errSchemaPath+\"/type\";(K=K||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { type: '\",a+=E?\"\"+P.join(\",\"):\"\"+P,a+=\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should be \",a+=E?\"\"+P.join(\",\"):\"\"+P,a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+u+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),a+=\" } \"):a+=\" {} \";m=a;a=K.pop(),!e.compositeRule&&d?e.async?a+=\" throw new ValidationError([\"+m+\"]); \":a+=\" validate.errors = [\"+m+\"]; return false; \":a+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } \"}d&&(a+=\" if (errors === \",a+=v?\"0\":\"errs_\"+n,a+=\") { \",y+=\"}\")}}function Z(e){for(var r=e.rules,t=0;t<r.length;t++)if(G(r[t]))return!0}function G(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var t=r.implements,a=0;a<t.length;a++)if(void 0!==e.schema[t[a]])return!0}(r)}return d&&(a+=\" \"+y+\" \"),v?(o?(a+=\" if (errors === 0) return data;           \",a+=\" else throw new ValidationError(vErrors); \"):(a+=\" validate.errors = vErrors; \",a+=\" return errors === 0;       \"),a+=\" }; return validate;\"):a+=\" var \"+p+\" = errors === errs_\"+n+\";\",a=e.util.cleanUpCode(a),v&&(a=e.util.finalCleanUpCode(a,o)),a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o=\" \",s=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,h=\"data\"+(i||\"\"),d=e.opts.$data&&n&&n.$data;d?(o+=\" var schema\"+s+\" = \"+e.util.getData(n.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+s):a=n;var f=\"maximum\"==r,p=f?\"exclusiveMaximum\":\"exclusiveMinimum\",m=e.schema[p],v=e.opts.$data&&m&&m.$data,g=f?\"<\":\">\",y=f?\">\":\"<\",P=void 0;if(v){var E=e.util.getData(m.$data,i,e.dataPathArr),w=\"exclusive\"+s,b=\"exclType\"+s,S=\"exclIsNumber\"+s,_=\"' + \"+(F=\"op\"+s)+\" + '\";o+=\" var schemaExcl\"+s+\" = \"+E+\"; \",o+=\" var \"+w+\"; var \"+b+\" = typeof \"+(E=\"schemaExcl\"+s)+\"; if (\"+b+\" != 'boolean' && \"+b+\" != 'undefined' && \"+b+\" != 'number') { \";var x;P=p;(x=x||[]).push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '\"+(P||\"_exclusiveLimit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: {} \",!1!==e.opts.messages&&(o+=\" , message: '\"+p+\" should be boolean' \"),e.opts.verbose&&(o+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),o+=\" } \"):o+=\" {} \";var I=o;o=x.pop(),!e.compositeRule&&u?e.async?o+=\" throw new ValidationError([\"+I+\"]); \":o+=\" validate.errors = [\"+I+\"]; return false; \":o+=\" var err = \"+I+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",o+=\" } else if ( \",d&&(o+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),o+=\" \"+b+\" == 'number' ? ( (\"+w+\" = \"+a+\" === undefined || \"+E+\" \"+g+\"= \"+a+\") ? \"+h+\" \"+y+\"= \"+E+\" : \"+h+\" \"+y+\" \"+a+\" ) : ( (\"+w+\" = \"+E+\" === true) ? \"+h+\" \"+y+\"= \"+a+\" : \"+h+\" \"+y+\" \"+a+\" ) || \"+h+\" !== \"+h+\") { var op\"+s+\" = \"+w+\" ? '\"+g+\"' : '\"+g+\"='; \",void 0===n&&(P=p,c=e.errSchemaPath+\"/\"+p,a=E,d=v)}else{_=g;if((S=\"number\"==typeof m)&&d){var F=\"'\"+_+\"'\";o+=\" if ( \",d&&(o+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),o+=\" ( \"+a+\" === undefined || \"+m+\" \"+g+\"= \"+a+\" ? \"+h+\" \"+y+\"= \"+m+\" : \"+h+\" \"+y+\" \"+a+\" ) || \"+h+\" !== \"+h+\") { \"}else{S&&void 0===n?(w=!0,P=p,c=e.errSchemaPath+\"/\"+p,a=m,y+=\"=\"):(S&&(a=Math[f?\"min\":\"max\"](m,n)),m===(!S||a)?(w=!0,P=p,c=e.errSchemaPath+\"/\"+p,y+=\"=\"):(w=!1,_+=\"=\"));F=\"'\"+_+\"'\";o+=\" if ( \",d&&(o+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),o+=\" \"+h+\" \"+y+\" \"+a+\" || \"+h+\" !== \"+h+\") { \"}}P=P||r,(x=x||[]).push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '\"+(P||\"_limit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { comparison: \"+F+\", limit: \"+a+\", exclusive: \"+w+\" } \",!1!==e.opts.messages&&(o+=\" , message: 'should be \"+_+\" \",o+=d?\"' + \"+a:a+\"'\"),e.opts.verbose&&(o+=\" , schema:  \",o+=d?\"validate.schema\"+l:\"\"+n,o+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),o+=\" } \"):o+=\" {} \";I=o;return o=x.pop(),!e.compositeRule&&u?e.async?o+=\" throw new ValidationError([\"+I+\"]); \":o+=\" validate.errors = [\"+I+\"]; return false; \":o+=\" var err = \"+I+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",o+=\" } \",u&&(o+=\" else { \"),o}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o=\" \",s=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,h=\"data\"+(i||\"\"),d=e.opts.$data&&n&&n.$data;d?(o+=\" var schema\"+s+\" = \"+e.util.getData(n.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+s):a=n,o+=\"if ( \",d&&(o+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),o+=\" \"+h+\".length \"+(\"maxItems\"==r?\">\":\"<\")+\" \"+a+\") { \";var f=r,p=p||[];p.push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '\"+(f||\"_limitItems\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+a+\" } \",!1!==e.opts.messages&&(o+=\" , message: 'should NOT have \",o+=\"maxItems\"==r?\"more\":\"fewer\",o+=\" than \",o+=d?\"' + \"+a+\" + '\":\"\"+n,o+=\" items' \"),e.opts.verbose&&(o+=\" , schema:  \",o+=d?\"validate.schema\"+l:\"\"+n,o+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),o+=\" } \"):o+=\" {} \";var m=o;return o=p.pop(),!e.compositeRule&&u?e.async?o+=\" throw new ValidationError([\"+m+\"]); \":o+=\" validate.errors = [\"+m+\"]; return false; \":o+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",o+=\"} \",u&&(o+=\" else { \"),o}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o=\" \",s=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,h=\"data\"+(i||\"\"),d=e.opts.$data&&n&&n.$data;d?(o+=\" var schema\"+s+\" = \"+e.util.getData(n.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+s):a=n;var f=\"maxLength\"==r?\">\":\"<\";o+=\"if ( \",d&&(o+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),!1===e.opts.unicode?o+=\" \"+h+\".length \":o+=\" ucs2length(\"+h+\") \",o+=\" \"+f+\" \"+a+\") { \";var p=r,m=m||[];m.push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '\"+(p||\"_limitLength\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+a+\" } \",!1!==e.opts.messages&&(o+=\" , message: 'should NOT be \",o+=\"maxLength\"==r?\"longer\":\"shorter\",o+=\" than \",o+=d?\"' + \"+a+\" + '\":\"\"+n,o+=\" characters' \"),e.opts.verbose&&(o+=\" , schema:  \",o+=d?\"validate.schema\"+l:\"\"+n,o+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),o+=\" } \"):o+=\" {} \";var v=o;return o=m.pop(),!e.compositeRule&&u?e.async?o+=\" throw new ValidationError([\"+v+\"]); \":o+=\" validate.errors = [\"+v+\"]; return false; \":o+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",o+=\"} \",u&&(o+=\" else { \"),o}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o=\" \",s=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,h=\"data\"+(i||\"\"),d=e.opts.$data&&n&&n.$data;d?(o+=\" var schema\"+s+\" = \"+e.util.getData(n.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+s):a=n,o+=\"if ( \",d&&(o+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),o+=\" Object.keys(\"+h+\").length \"+(\"maxProperties\"==r?\">\":\"<\")+\" \"+a+\") { \";var f=r,p=p||[];p.push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '\"+(f||\"_limitProperties\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+a+\" } \",!1!==e.opts.messages&&(o+=\" , message: 'should NOT have \",o+=\"maxProperties\"==r?\"more\":\"fewer\",o+=\" than \",o+=d?\"' + \"+a+\" + '\":\"\"+n,o+=\" properties' \"),e.opts.verbose&&(o+=\" , schema:  \",o+=d?\"validate.schema\"+l:\"\"+n,o+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),o+=\" } \"):o+=\" {} \";var m=o;return o=p.pop(),!e.compositeRule&&u?e.async?o+=\" throw new ValidationError([\"+m+\"]); \":o+=\" validate.errors = [\"+m+\"]; return false; \":o+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",o+=\"} \",u&&(o+=\" else { \"),o}},function(e,r,t){\"use strict\";var a=t(21),o=t(4),s=t(25),i=t(8),n=t(9),l=t(26),c=t(27),u=t(48),h=t(0);e.exports=g,g.prototype.validate=function(e,r){var t;if(\"string\"==typeof e){if(!(t=this.getSchema(e)))throw new Error('no schema with key or ref \"'+e+'\"')}else{var a=this._addSchema(e);t=a.validate||this._compile(a)}var o=t(r);!0!==t.$async&&(this.errors=t.errors);return o},g.prototype.compile=function(e,r){var t=this._addSchema(e,void 0,r);return t.validate||this._compile(t)},g.prototype.addSchema=function(e,r,t,a){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,t,a);return this}var i=this._getId(e);if(void 0!==i&&\"string\"!=typeof i)throw new Error(\"schema id must be string\");return S(this,r=o.normalizeId(r||i)),this._schemas[r]=this._addSchema(e,t,a,!0),this},g.prototype.addMetaSchema=function(e,r,t){return this.addSchema(e,r,t,!0),this},g.prototype.validateSchema=function(e,r){var t=e.$schema;if(void 0!==t&&\"string\"!=typeof t)throw new Error(\"$schema must be a string\");if(!(t=t||this._opts.defaultMeta||(a=this,o=a._opts.meta,a._opts.defaultMeta=\"object\"==typeof o?a._getId(o)||o:a.getSchema(p)?p:void 0,a._opts.defaultMeta)))return this.logger.warn(\"meta-schema not available\"),this.errors=null,!0;var a,o;var s,i=this._formats.uri;this._formats.uri=\"function\"==typeof i?this._schemaUriFormatFunc:this._schemaUriFormat;try{s=this.validate(t,e)}finally{this._formats.uri=i}if(!s&&r){var n=\"schema is invalid: \"+this.errorsText();if(\"log\"!=this._opts.validateSchema)throw new Error(n);this.logger.error(n)}return s},g.prototype.getSchema=function(e){var r=y(this,e);switch(typeof r){case\"object\":return r.validate||this._compile(r);case\"string\":return this.getSchema(r);case\"undefined\":return function(e,r){var t=o.schema.call(e,{schema:{}},r);if(t){var s=t.schema,n=t.root,l=t.baseId,c=a.call(e,s,n,void 0,l);return e._fragments[r]=new i({ref:r,fragment:!0,schema:s,root:n,baseId:l,validate:c}),c}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return P(this,this._schemas,e),P(this,this._refs,e),this;switch(typeof e){case\"undefined\":return P(this,this._schemas),P(this,this._refs),this._cache.clear(),this;case\"string\":var r=y(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],delete this._refs[e],this;case\"object\":var t=this._opts.serialize,a=t?t(e):e;this._cache.del(a);var s=this._getId(e);s&&(s=o.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this},g.prototype.addFormat=function(e,r){\"string\"==typeof r&&(r=new RegExp(r));return this._formats[e]=r,this},g.prototype.errorsText=function(e,r){if(!(e=e||this.errors))return\"No errors\";for(var t=void 0===(r=r||{}).separator?\", \":r.separator,a=void 0===r.dataVar?\"data\":r.dataVar,o=\"\",s=0;s<e.length;s++){var i=e[s];i&&(o+=a+i.dataPath+\" \"+i.message+t)}return o.slice(0,-t.length)},g.prototype._addSchema=function(e,r,t,a){if(\"object\"!=typeof e&&\"boolean\"!=typeof e)throw new Error(\"schema should be object or boolean\");var s=this._opts.serialize,n=s?s(e):e,l=this._cache.get(n);if(l)return l;a=a||!1!==this._opts.addUsedSchema;var c=o.normalizeId(this._getId(e));c&&a&&S(this,c);var u,h=!1!==this._opts.validateSchema&&!r;h&&!(u=c&&c==o.normalizeId(e.$schema))&&this.validateSchema(e,!0);var d=o.ids.call(this,e),f=new i({id:c,schema:e,localRefs:d,cacheKey:n,meta:t});\"#\"!=c[0]&&a&&(this._refs[c]=f);this._cache.put(n,f),h&&u&&this.validateSchema(e,!0);return f},g.prototype._compile=function(e,r){if(e.compiling)return e.validate=s,s.schema=e.schema,s.errors=null,s.root=r||s,!0===e.schema.$async&&(s.$async=!0),s;var t,o;e.compiling=!0,e.meta&&(t=this._opts,this._opts=this._metaOpts);try{o=a.call(this,e.schema,r,e.localRefs)}catch(r){throw delete e.validate,r}finally{e.compiling=!1,e.meta&&(this._opts=t)}return e.validate=o,e.refs=o.refs,e.refVal=o.refVal,e.root=o.root,o;function s(){var r=e.validate,t=r.apply(this,arguments);return s.errors=r.errors,t}},g.prototype.compileAsync=t(49);var d=t(50);g.prototype.addKeyword=d.add,g.prototype.getKeyword=d.get,g.prototype.removeKeyword=d.remove;var f=t(6);g.ValidationError=f.Validation,g.MissingRefError=f.MissingRef,g.$dataMetaSchema=u;var p=\"http://json-schema.org/draft-07/schema\",m=[\"removeAdditional\",\"useDefaults\",\"coerceTypes\"],v=[\"/properties\"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=h.copy(e)||{},function(e){var r=e._opts.logger;if(!1===r)e.logger={log:_,warn:_,error:_};else{if(void 0===r&&(r=console),!(\"object\"==typeof r&&r.log&&r.warn&&r.error))throw new Error(\"logger must implement log, warn and error methods\");e.logger=r}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format);var r=this._schemaUriFormat=this._formats[\"uri-reference\"];this._schemaUriFormatFunc=function(e){return r.test(e)},this._cache=e.cache||new s,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case\"auto\":return b;case\"id\":return E;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,\"property\"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=n),this._metaOpts=function(e){for(var r=h.copy(e._opts),t=0;t<m.length;t++)delete r[m[t]];return r}(this),e.formats&&function(e){for(var r in e._opts.formats){var t=e._opts.formats[r];e.addFormat(r,t)}}(this),function(e){var r;e._opts.$data&&(r=t(52),e.addMetaSchema(r,r.$id,!0));if(!1===e._opts.meta)return;var a=t(53);e._opts.$data&&(a=u(a,v));e.addMetaSchema(a,p,!0),e._refs[\"http://json-schema.org/schema\"]=p}(this),\"object\"==typeof e.meta&&this.addMetaSchema(e.meta),function(e){var r=e._opts.schemas;if(!r)return;if(Array.isArray(r))e.addSchema(r);else for(var t in r)e.addSchema(r[t],t)}(this)}function y(e,r){return r=o.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function P(e,r,t){for(var a in r){var o=r[a];o.meta||t&&!t.test(a)||(e._cache.del(o.cacheKey),delete r[a])}}function E(e){return e.$id&&this.logger.warn(\"schema $id ignored\",e.$id),e.id}function w(e){return e.id&&this.logger.warn(\"schema id ignored\",e.id),e.$id}function b(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error(\"schema $id is different from id\");return e.$id||e.id}function S(e,r){if(e._schemas[r]||e._refs[r])throw new Error('schema with key or id \"'+r+'\" already exists')}function _(){}},function(e,r,t){\n/*! Split.js - v1.5.9 */\ne.exports=function(){\"use strict\";var e=window,r=e.document,t=\"addEventListener\",a=\"removeEventListener\",o=\"getBoundingClientRect\",s=\"_a\",i=\"_b\",n=\"_c\",l=\"horizontal\",c=function(){return!1},u=e.attachEvent&&!e[t],h=[\"\",\"-webkit-\",\"-moz-\",\"-o-\"].filter(function(e){var t=r.createElement(\"div\");return t.style.cssText=\"width:\"+e+\"calc(9px)\",!!t.style.length}).shift()+\"calc\",d=function(e){return\"string\"==typeof e||e instanceof String},f=function(e){if(d(e)){var t=r.querySelector(e);if(!t)throw new Error(\"Selector \"+e+\" did not match a DOM element\");return t}return e},p=function(e,r,t){var a=e[r];return void 0!==a?a:t},m=function(e,r,t,a){if(r){if(\"end\"===a)return 0;if(\"center\"===a)return e/2}else if(t){if(\"start\"===a)return 0;if(\"center\"===a)return e/2}return e},v=function(e,t){var a=r.createElement(\"div\");return a.className=\"gutter gutter-\"+t,a},g=function(e,r,t){var a={};return d(r)?a[e]=r:a[e]=u?r+\"%\":h+\"(\"+r+\"% - \"+t+\"px)\",a},y=function(e,r){var t;return(t={})[e]=r+\"px\",t};return function(h,d){void 0===d&&(d={});var P,E,w,b,S,_,x=h;Array.from&&(x=Array.from(x));var I=f(x[0]),F=I.parentNode,R=getComputedStyle?getComputedStyle(F).flexDirection:null,D=p(d,\"sizes\")||x.map(function(){return 100/x.length}),$=p(d,\"minSize\",100),O=Array.isArray($)?$:x.map(function(){return $}),j=p(d,\"expandToMin\",!1),C=p(d,\"gutterSize\",10),A=p(d,\"gutterAlign\",\"center\"),T=p(d,\"snapOffset\",30),k=p(d,\"dragInterval\",1),N=p(d,\"direction\",l),z=p(d,\"cursor\",N===l?\"col-resize\":\"row-resize\"),L=p(d,\"gutter\",v),V=p(d,\"elementStyle\",g),M=p(d,\"gutterStyle\",y);function U(e,r,t,a){var o=V(P,r,t,a);Object.keys(o).forEach(function(r){e.style[r]=o[r]})}function q(){return _.map(function(e){return e.size})}function Q(e){return\"touches\"in e?e.touches[0][E]:e[E]}function H(e){var r=_[this.a],t=_[this.b],a=r.size+t.size;r.size=e/this.size*a,t.size=a-e/this.size*a,U(r.element,r.size,this[i],r.i),U(t.element,t.size,this[n],t.i)}function B(){var e=_[this.a].element,r=_[this.b].element,t=e[o](),a=r[o]();this.size=t[P]+a[P]+this[i]+this[n],this.start=t[w],this.end=t[b]}function J(e){var r=function(e){if(!getComputedStyle)return null;var r=getComputedStyle(e),t=e[S];return 0===t?null:t-=N===l?parseFloat(r.paddingLeft)+parseFloat(r.paddingRight):parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)}(F);if(null===r)return e;var t=0,a=[],o=e.map(function(o,s){var i=r*o/100,n=m(C,0===s,s===e.length-1,A),l=O[s]+n;return i<l?(t+=l-i,a.push(0),l):(a.push(i-l),i)});return 0===t?e:o.map(function(e,o){var s=e;if(t>0&&a[o]-t>0){var i=Math.min(t,a[o]-t);t-=i,s=e-i}return s/r*100})}function K(o){if(!(\"button\"in o&&0!==o.button)){var s=_[this.a].element,l=_[this.b].element;this.dragging||p(d,\"onDragStart\",c)(q()),o.preventDefault(),this.dragging=!0,this.move=function(e){var r,t=_[this.a],a=_[this.b];this.dragging&&(r=Q(e)-this.start+(this[i]-this.dragOffset),k>1&&(r=Math.round(r/k)*k),r<=t.minSize+T+this[i]?r=t.minSize+this[i]:r>=this.size-(a.minSize+T+this[n])&&(r=this.size-(a.minSize+this[n])),H.call(this,r),p(d,\"onDrag\",c)())}.bind(this),this.stop=function(){var t=_[this.a].element,o=_[this.b].element;this.dragging&&p(d,\"onDragEnd\",c)(q()),this.dragging=!1,e[a](\"mouseup\",this.stop),e[a](\"touchend\",this.stop),e[a](\"touchcancel\",this.stop),e[a](\"mousemove\",this.move),e[a](\"touchmove\",this.move),this.stop=null,this.move=null,t[a](\"selectstart\",c),t[a](\"dragstart\",c),o[a](\"selectstart\",c),o[a](\"dragstart\",c),t.style.userSelect=\"\",t.style.webkitUserSelect=\"\",t.style.MozUserSelect=\"\",t.style.pointerEvents=\"\",o.style.userSelect=\"\",o.style.webkitUserSelect=\"\",o.style.MozUserSelect=\"\",o.style.pointerEvents=\"\",this.gutter.style.cursor=\"\",this.parent.style.cursor=\"\",r.body.style.cursor=\"\"}.bind(this),e[t](\"mouseup\",this.stop),e[t](\"touchend\",this.stop),e[t](\"touchcancel\",this.stop),e[t](\"mousemove\",this.move),e[t](\"touchmove\",this.move),s[t](\"selectstart\",c),s[t](\"dragstart\",c),l[t](\"selectstart\",c),l[t](\"dragstart\",c),s.style.userSelect=\"none\",s.style.webkitUserSelect=\"none\",s.style.MozUserSelect=\"none\",s.style.pointerEvents=\"none\",l.style.userSelect=\"none\",l.style.webkitUserSelect=\"none\",l.style.MozUserSelect=\"none\",l.style.pointerEvents=\"none\",this.gutter.style.cursor=z,this.parent.style.cursor=z,r.body.style.cursor=z,B.call(this),this.dragOffset=Q(o)-this.end}}N===l?(P=\"width\",E=\"clientX\",w=\"left\",b=\"right\",S=\"clientWidth\"):\"vertical\"===N&&(P=\"height\",E=\"clientY\",w=\"top\",b=\"bottom\",S=\"clientHeight\"),D=J(D);var Z=[];function G(e){var r=e.i===Z.length,t=r?Z[e.i-1]:Z[e.i];B.call(t);var a=r?t.size-e.minSize-t[n]:e.minSize+t[i];H.call(t,a)}function Y(e){var r=J(e);r.forEach(function(e,t){if(t>0){var a=Z[t-1],o=_[a.a],s=_[a.b];o.size=r[t-1],s.size=e,U(o.element,o.size,a[i]),U(s.element,s.size,a[n])}})}function W(e,r){Z.forEach(function(t){if(!0!==r?t.parent.removeChild(t.gutter):(t.gutter[a](\"mousedown\",t[s]),t.gutter[a](\"touchstart\",t[s])),!0!==e){var o=V(P,t.a.size,t[i]);Object.keys(o).forEach(function(e){_[t.a].element.style[e]=\"\",_[t.b].element.style[e]=\"\"})}})}return(_=x.map(function(e,r){var a,o={element:f(e),size:D[r],minSize:O[r],i:r};if(r>0&&((a={a:r-1,b:r,dragging:!1,direction:N,parent:F})[i]=m(C,r-1==0,!1,A),a[n]=m(C,!1,r===x.length-1,A),\"row-reverse\"===R||\"column-reverse\"===R)){var l=a.a;a.a=a.b,a.b=l}if(!u&&r>0){var c=L(r,N,o.element);!function(e,r,t){var a=M(P,r,t);Object.keys(a).forEach(function(r){e.style[r]=a[r]})}(c,C,r),a[s]=K.bind(a),c[t](\"mousedown\",a[s]),c[t](\"touchstart\",a[s]),F.insertBefore(c,o.element),a.gutter=c}return U(o.element,o.size,m(C,0===r,r===x.length-1,A)),r>0&&Z.push(a),o})).forEach(function(e){var r=e.element[o]()[P];r<e.minSize&&(j?G(e):e.minSize=r)}),u?{setSizes:Y,destroy:W}:{setSizes:Y,getSizes:q,collapse:function(e){G(_[e])},destroy:W,parent:F,pairs:Z}}}()},function(e,r,t){(function(a,o){var s,i,n,l;\n/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\nl=function(){\"use strict\";var e,r,t,a=Object.prototype.toString,s=void 0!==o?function(e){return o(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),e=function(e,r,t,a){return Object.defineProperty(e,r,{value:t,writable:!0,configurable:!1!==a})}}catch(r){e=function(e,r,t){return e[r]=t,e}}function i(e,a){t.add(e,a),r||(r=s(t.drain))}function n(e){var r,t=typeof e;return null==e||\"object\"!=t&&\"function\"!=t||(r=e.then),\"function\"==typeof r&&r}function l(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,r,t){var a,o;try{!1===r?t.reject(e.msg):(a=!0===r?e.msg:r.call(void 0,e.msg))===t.promise?t.reject(TypeError(\"Promise-chain cycle\")):(o=n(a))?o.call(a,t.resolve,t.reject):t.resolve(a)}catch(e){t.reject(e)}}function u(e){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=e,r.state=2,r.chain.length>0&&i(l,r))}function h(e,r,t,a){for(var o=0;o<r.length;o++)!function(o){e.resolve(r[o]).then(function(e){t(o,e)},a)}(o)}function d(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(e){if(\"function\"!=typeof e)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var r=new f(this);this.then=function(e,t){var a={success:\"function\"!=typeof e||e,failure:\"function\"==typeof t&&t};return a.promise=new this.constructor(function(e,r){if(\"function\"!=typeof e||\"function\"!=typeof r)throw TypeError(\"Not a function\");a.resolve=e,a.reject=r}),r.chain.push(a),0!==r.state&&i(l,r),a.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(r){var t,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(t=n(r))?i(function(){var o=new d(a);try{t.call(r,function(){e.apply(o,arguments)},function(){u.apply(o,arguments)})}catch(e){u.call(o,e)}}):(a.msg=r,a.state=1,a.chain.length>0&&i(l,a))}catch(e){u.call(new d(a),e)}}}).call(r,e)},function(e){u.call(r,e)})}catch(e){u.call(r,e)}}t=function(){var e,t,a;function o(e,r){this.fn=e,this.self=r,this.next=void 0}return{add:function(r,s){a=new o(r,s),t?t.next=a:e=a,t=a,a=void 0},drain:function(){var a=e;for(e=t=r=void 0;a;)a.fn.call(a.self),a=a.next}}}();var m=e({},\"constructor\",p,!1);return p.prototype=m,e(m,\"__NPO__\",0,!1),e(p,\"resolve\",function(e){return e&&\"object\"==typeof e&&1===e.__NPO__?e:new this(function(r,t){if(\"function\"!=typeof r||\"function\"!=typeof t)throw TypeError(\"Not a function\");r(e)})}),e(p,\"reject\",function(e){return new this(function(r,t){if(\"function\"!=typeof r||\"function\"!=typeof t)throw TypeError(\"Not a function\");t(e)})}),e(p,\"all\",function(e){var r=this;return\"[object Array]\"!=a.call(e)?r.reject(TypeError(\"Not an array\")):0===e.length?r.resolve([]):new r(function(t,a){if(\"function\"!=typeof t||\"function\"!=typeof a)throw TypeError(\"Not a function\");var o=e.length,s=Array(o),i=0;h(r,e,function(e,r){s[e]=r,++i===o&&t(s)},a)})}),e(p,\"race\",function(e){var r=this;return\"[object Array]\"!=a.call(e)?r.reject(TypeError(\"Not an array\")):new r(function(t,a){if(\"function\"!=typeof t||\"function\"!=typeof a)throw TypeError(\"Not a function\");h(r,e,function(e,r){t(r)},a)})}),p},(n=void 0!==a?a:this)[i=\"Promise\"]=n[i]||l(),e.exports?e.exports=n[i]:void 0===(s=function(){return n[i]}.call(r,t,r,e))||(e.exports=s)}).call(this,t(2),t(18).setImmediate)},function(e,r,t){(function(e){var a=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,o=Function.prototype.apply;function s(e,r){this._id=e,this._clearFn=r}r.setTimeout=function(){return new s(o.call(setTimeout,a,arguments),clearTimeout)},r.setInterval=function(){return new s(o.call(setInterval,a,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(a,this._id)},r.enroll=function(e,r){clearTimeout(e._idleTimeoutId),e._idleTimeout=r},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var r=e._idleTimeout;r>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},r))},t(19),r.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,r.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,t(2))},function(e,r,t){(function(e,r){!function(e,t){\"use strict\";if(!e.setImmediate){var a,o,s,i,n,l=1,c={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,\"[object process]\"==={}.toString.call(e.process)?a=function(e){r.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var r=!0,t=e.onmessage;return e.onmessage=function(){r=!1},e.postMessage(\"\",\"*\"),e.onmessage=t,r}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},a=function(e){s.port2.postMessage(e)}):h&&\"onreadystatechange\"in h.createElement(\"script\")?(o=h.documentElement,a=function(e){var r=h.createElement(\"script\");r.onreadystatechange=function(){p(e),r.onreadystatechange=null,o.removeChild(r),r=null},o.appendChild(r)}):a=function(e){setTimeout(p,0,e)}:(i=\"setImmediate$\"+Math.random()+\"$\",n=function(r){r.source===e&&\"string\"==typeof r.data&&0===r.data.indexOf(i)&&p(+r.data.slice(i.length))},e.addEventListener?e.addEventListener(\"message\",n,!1):e.attachEvent(\"onmessage\",n),a=function(r){e.postMessage(i+r,\"*\")}),d.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var r=new Array(arguments.length-1),t=0;t<r.length;t++)r[t]=arguments[t+1];var o={callback:e,args:r};return c[l]=o,a(l),l++},d.clearImmediate=f}function f(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var r=c[e];if(r){u=!0;try{!function(e){var r=e.callback,a=e.args;switch(a.length){case 0:r();break;case 1:r(a[0]);break;case 2:r(a[0],a[1]);break;case 3:r(a[0],a[1],a[2]);break;default:r.apply(t,a)}}(r)}finally{f(e),u=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,t(2),t(20))},function(e,r){var t,a,o=e.exports={};function s(){throw new Error(\"setTimeout has not been defined\")}function i(){throw new Error(\"clearTimeout has not been defined\")}function n(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t=\"function\"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{a=\"function\"==typeof clearTimeout?clearTimeout:i}catch(e){a=i}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!u){var e=n(d);u=!0;for(var r=c.length;r;){for(l=c,c=[];++h<r;)l&&l[h].run();h=-1,r=c.length}l=null,u=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===i||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(r){try{return a.call(null,e)}catch(r){return a.call(this,e)}}}(e)}}function p(e,r){this.fun=e,this.array=r}function m(){}o.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];c.push(new p(e,r)),1!==c.length||u||n(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(e){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(e,r,t){\"use strict\";var a=t(4),o=t(0),s=t(6),i=t(9),n=t(10),l=o.ucs2length,c=t(5),u=s.Validation;function h(e,r,t){for(var a=0;a<this._compilations.length;a++){var o=this._compilations[a];if(o.schema==e&&o.root==r&&o.baseId==t)return a}return-1}function d(e,r){return\"var pattern\"+e+\" = new RegExp(\"+o.toQuotedString(r[e])+\");\"}function f(e){return\"var default\"+e+\" = defaults[\"+e+\"];\"}function p(e,r){return void 0===r[e]?\"\":\"var refVal\"+e+\" = refVal[\"+e+\"];\"}function m(e){return\"var customRule\"+e+\" = customRules[\"+e+\"];\"}function v(e,r){if(!e.length)return\"\";for(var t=\"\",a=0;a<e.length;a++)t+=r(a,e);return t}e.exports=function e(r,t,g,y){var P=this,E=this._opts,w=[void 0],b={},S=[],_={},x=[],I={},F=[];t=t||{schema:r,refVal:w,refs:b};var R=function(e,r,t){var a=h.call(this,e,r,t);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:r,baseId:t},{index:a,compiling:!1})}.call(this,r,t,y);var D=this._compilations[R.index];if(R.compiling)return D.callValidate=function e(){var r=D.validate;var t=r.apply(this,arguments);e.errors=r.errors;return t};var $=this._formats;var O=this.RULES;try{var j=A(r,t,g,y);D.validate=j;var C=D.callValidate;return C&&(C.schema=j.schema,C.errors=null,C.refs=j.refs,C.refVal=j.refVal,C.root=j.root,C.$async=j.$async,E.sourceCode&&(C.source=j.source)),j}finally{(function(e,r,t){var a=h.call(this,e,r,t);a>=0&&this._compilations.splice(a,1)}).call(this,r,t,y)}function A(r,i,h,g){var y=!i||i&&i.schema==r;if(i.schema!=t.schema)return e.call(P,r,i,h,g);var _,I=!0===r.$async,R=n({isTop:!0,schema:r,isRoot:y,baseId:g,root:i,schemaPath:\"\",errSchemaPath:\"#\",errorPath:'\"\"',MissingRefError:s.MissingRef,RULES:O,validate:n,util:o,resolve:a,resolveRef:T,usePattern:z,useDefault:L,useCustomRule:V,opts:E,formats:$,logger:P.logger,self:P});R=v(w,p)+v(S,d)+v(x,f)+v(F,m)+R,E.processCode&&(R=E.processCode(R));try{var D=new Function(\"self\",\"RULES\",\"formats\",\"root\",\"refVal\",\"defaults\",\"customRules\",\"equal\",\"ucs2length\",\"ValidationError\",R);_=D(P,O,$,t,w,x,F,c,l,u),w[0]=_}catch(e){throw P.logger.error(\"Error compiling schema, function code:\",R),e}return _.schema=r,_.errors=null,_.refs=b,_.refVal=w,_.root=y?_:i,I&&(_.$async=!0),!0===E.sourceCode&&(_.source={code:R,patterns:S,defaults:x}),_}function T(r,o,s){o=a.url(r,o);var i,n,l=b[o];if(void 0!==l)return N(i=w[l],n=\"refVal[\"+l+\"]\");if(!s&&t.refs){var c=t.refs[o];if(void 0!==c)return i=t.refVal[c],n=k(o,i),N(i,n)}n=k(o);var u=a.call(P,A,t,o);if(void 0===u){var h=g&&g[o];h&&(u=a.inlineRef(h,E.inlineRefs)?h:e.call(P,h,t,g,r))}if(void 0!==u)return function(e,r){var t=b[e];w[t]=r}(o,u),N(u,n);!function(e){delete b[e]}(o)}function k(e,r){var t=w.length;return w[t]=r,b[e]=t,\"refVal\"+t}function N(e,r){return\"object\"==typeof e||\"boolean\"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&!!e.$async}}function z(e){var r=_[e];return void 0===r&&(r=_[e]=S.length,S[r]=e),\"pattern\"+r}function L(e){switch(typeof e){case\"boolean\":case\"number\":return\"\"+e;case\"string\":return o.toQuotedString(e);case\"object\":if(null===e)return\"null\";var r=i(e),t=I[r];return void 0===t&&(t=I[r]=x.length,x[t]=e),\"default\"+t}}function V(e,r,t,a){var o=e.definition.validateSchema;if(o&&!1!==P._opts.validateSchema){var s=o(r);if(!s){var i=\"keyword schema is invalid: \"+P.errorsText(o.errors);if(\"log\"!=P._opts.validateSchema)throw new Error(i);P.logger.error(i)}}var n,l=e.definition.compile,c=e.definition.inline,u=e.definition.macro;if(l)n=l.call(P,r,t,a);else if(u)n=u.call(P,r,t,a),!1!==E.validateSchema&&P.validateSchema(n,!0);else if(c)n=c.call(P,a,e.keyword,r,t);else if(!(n=e.definition.validate))return;if(void 0===n)throw new Error('custom keyword \"'+e.keyword+'\"failed to compile');var h=F.length;return F[h]=n,{code:\"customRule\"+h,validate:n}}}},function(e,r,t){\n/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n!function(e){\"use strict\";function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var a=r.length-1,o=1;o<a;++o)r[o]=r[o].slice(1,-1);return r[a]=r[a].slice(1),r.join(\"\")}return r[0]}function t(e){return\"(?:\"+e+\")\"}function a(e){return void 0===e?\"undefined\":null===e?\"null\":Object.prototype.toString.call(e).split(\" \").pop().split(\"]\").shift().toLowerCase()}function o(e){return e.toUpperCase()}function s(e){var a=r(\"[0-9]\",\"[A-Fa-f]\"),o=t(t(\"%[EFef]\"+a+\"%\"+a+a+\"%\"+a+a)+\"|\"+t(\"%[89A-Fa-f]\"+a+\"%\"+a+a)+\"|\"+t(\"%\"+a+a)),s=\"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",i=r(\"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",s),n=e?\"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\":\"[]\",l=e?\"[\\\\uE000-\\\\uF8FF]\":\"[]\",c=r(\"[A-Za-z]\",\"[0-9]\",\"[\\\\-\\\\.\\\\_\\\\~]\",n),u=t(\"[A-Za-z]\"+r(\"[A-Za-z]\",\"[0-9]\",\"[\\\\+\\\\-\\\\.]\")+\"*\"),h=t(t(o+\"|\"+r(c,s,\"[\\\\:]\"))+\"*\"),d=(t(t(\"25[0-5]\")+\"|\"+t(\"2[0-4][0-9]\")+\"|\"+t(\"1[0-9][0-9]\")+\"|\"+t(\"[1-9][0-9]\")+\"|[0-9]\"),t(t(\"25[0-5]\")+\"|\"+t(\"2[0-4][0-9]\")+\"|\"+t(\"1[0-9][0-9]\")+\"|\"+t(\"0?[1-9][0-9]\")+\"|0?0?[0-9]\")),f=t(d+\"\\\\.\"+d+\"\\\\.\"+d+\"\\\\.\"+d),p=t(a+\"{1,4}\"),m=t(t(p+\"\\\\:\"+p)+\"|\"+f),v=t(t(p+\"\\\\:\")+\"{6}\"+m),g=t(\"\\\\:\\\\:\"+t(p+\"\\\\:\")+\"{5}\"+m),y=t(t(p)+\"?\\\\:\\\\:\"+t(p+\"\\\\:\")+\"{4}\"+m),P=t(t(t(p+\"\\\\:\")+\"{0,1}\"+p)+\"?\\\\:\\\\:\"+t(p+\"\\\\:\")+\"{3}\"+m),E=t(t(t(p+\"\\\\:\")+\"{0,2}\"+p)+\"?\\\\:\\\\:\"+t(p+\"\\\\:\")+\"{2}\"+m),w=t(t(t(p+\"\\\\:\")+\"{0,3}\"+p)+\"?\\\\:\\\\:\"+p+\"\\\\:\"+m),b=t(t(t(p+\"\\\\:\")+\"{0,4}\"+p)+\"?\\\\:\\\\:\"+m),S=t(t(t(p+\"\\\\:\")+\"{0,5}\"+p)+\"?\\\\:\\\\:\"+p),_=t(t(t(p+\"\\\\:\")+\"{0,6}\"+p)+\"?\\\\:\\\\:\"),x=t([v,g,y,P,E,w,b,S,_].join(\"|\")),I=t(t(c+\"|\"+o)+\"+\"),F=(t(x+\"\\\\%25\"+I),t(x+t(\"\\\\%25|\\\\%(?!\"+a+\"{2})\")+I)),R=t(\"[vV]\"+a+\"+\\\\.\"+r(c,s,\"[\\\\:]\")+\"+\"),D=t(\"\\\\[\"+t(F+\"|\"+x+\"|\"+R)+\"\\\\]\"),$=t(t(o+\"|\"+r(c,s))+\"*\"),O=t(D+\"|\"+f+\"(?!\"+$+\")|\"+$),j=t(\"[0-9]*\"),C=t(t(h+\"@\")+\"?\"+O+t(\"\\\\:\"+j)+\"?\"),A=t(o+\"|\"+r(c,s,\"[\\\\:\\\\@]\")),T=t(A+\"*\"),k=t(A+\"+\"),N=t(t(o+\"|\"+r(c,s,\"[\\\\@]\"))+\"+\"),z=t(t(\"\\\\/\"+T)+\"*\"),L=t(\"\\\\/\"+t(k+z)+\"?\"),V=t(N+z),M=t(k+z),U=\"(?!\"+A+\")\",q=(t(z+\"|\"+L+\"|\"+V+\"|\"+M+\"|\"+U),t(t(A+\"|\"+r(\"[\\\\/\\\\?]\",l))+\"*\")),Q=t(t(A+\"|[\\\\/\\\\?]\")+\"*\"),H=t(t(\"\\\\/\\\\/\"+C+z)+\"|\"+L+\"|\"+M+\"|\"+U),B=t(u+\"\\\\:\"+H+t(\"\\\\?\"+q)+\"?\"+t(\"\\\\#\"+Q)+\"?\"),J=t(t(\"\\\\/\\\\/\"+C+z)+\"|\"+L+\"|\"+V+\"|\"+U),K=t(J+t(\"\\\\?\"+q)+\"?\"+t(\"\\\\#\"+Q)+\"?\");return t(B+\"|\"+K),t(u+\"\\\\:\"+H+t(\"\\\\?\"+q)+\"?\"),t(t(\"\\\\/\\\\/(\"+t(\"(\"+h+\")@\")+\"?(\"+O+\")\"+t(\"\\\\:(\"+j+\")\")+\"?)\")+\"?(\"+z+\"|\"+L+\"|\"+M+\"|\"+U+\")\"),t(\"\\\\?(\"+q+\")\"),t(\"\\\\#(\"+Q+\")\"),t(t(\"\\\\/\\\\/(\"+t(\"(\"+h+\")@\")+\"?(\"+O+\")\"+t(\"\\\\:(\"+j+\")\")+\"?)\")+\"?(\"+z+\"|\"+L+\"|\"+V+\"|\"+U+\")\"),t(\"\\\\?(\"+q+\")\"),t(\"\\\\#(\"+Q+\")\"),t(t(\"\\\\/\\\\/(\"+t(\"(\"+h+\")@\")+\"?(\"+O+\")\"+t(\"\\\\:(\"+j+\")\")+\"?)\")+\"?(\"+z+\"|\"+L+\"|\"+M+\"|\"+U+\")\"),t(\"\\\\?(\"+q+\")\"),t(\"\\\\#(\"+Q+\")\"),t(\"(\"+h+\")@\"),t(\"\\\\:(\"+j+\")\"),{NOT_SCHEME:new RegExp(r(\"[^]\",\"[A-Za-z]\",\"[0-9]\",\"[\\\\+\\\\-\\\\.]\"),\"g\"),NOT_USERINFO:new RegExp(r(\"[^\\\\%\\\\:]\",c,s),\"g\"),NOT_HOST:new RegExp(r(\"[^\\\\%\\\\[\\\\]\\\\:]\",c,s),\"g\"),NOT_PATH:new RegExp(r(\"[^\\\\%\\\\/\\\\:\\\\@]\",c,s),\"g\"),NOT_PATH_NOSCHEME:new RegExp(r(\"[^\\\\%\\\\/\\\\@]\",c,s),\"g\"),NOT_QUERY:new RegExp(r(\"[^\\\\%]\",c,s,\"[\\\\:\\\\@\\\\/\\\\?]\",l),\"g\"),NOT_FRAGMENT:new RegExp(r(\"[^\\\\%]\",c,s,\"[\\\\:\\\\@\\\\/\\\\?]\"),\"g\"),ESCAPE:new RegExp(r(\"[^]\",c,s),\"g\"),UNRESERVED:new RegExp(c,\"g\"),OTHER_CHARS:new RegExp(r(\"[^\\\\%]\",c,i),\"g\"),PCT_ENCODED:new RegExp(o,\"g\"),IPV4ADDRESS:new RegExp(\"^(\"+f+\")$\"),IPV6ADDRESS:new RegExp(\"^\\\\[?(\"+x+\")\"+t(t(\"\\\\%25|\\\\%(?!\"+a+\"{2})\")+\"(\"+I+\")\")+\"?\\\\]?$\")}}var i=s(!1),n=s(!0),l=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],a=!0,o=!1,s=void 0;try{for(var i,n=e[Symbol.iterator]();!(a=(i=n.next()).done)&&(t.push(i.value),!r||t.length!==r);a=!0);}catch(e){o=!0,s=e}finally{try{!a&&n.return&&n.return()}finally{if(o)throw s}}return t}(e,r);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},c=2147483647,u=/^xn--/,h=/[^\\0-\\x7E]/,d=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,f={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},p=Math.floor,m=String.fromCharCode;function v(e){throw new RangeError(f[e])}function g(e,r){var t=e.split(\"@\"),a=\"\";t.length>1&&(a=t[0]+\"@\",e=t[1]);var o=(e=e.replace(d,\".\")).split(\".\"),s=function(e,r){for(var t=[],a=e.length;a--;)t[a]=r(e[a]);return t}(o,r).join(\".\");return a+s}function y(e){for(var r=[],t=0,a=e.length;t<a;){var o=e.charCodeAt(t++);if(o>=55296&&o<=56319&&t<a){var s=e.charCodeAt(t++);56320==(64512&s)?r.push(((1023&o)<<10)+(1023&s)+65536):(r.push(o),t--)}else r.push(o)}return r}var P=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},E=function(e,r,t){var a=0;for(e=t?p(e/700):e>>1,e+=p(e/r);e>455;a+=36)e=p(e/35);return p(a+36*e/(e+38))},w=function(e){var r,t=[],a=e.length,o=0,s=128,i=72,n=e.lastIndexOf(\"-\");n<0&&(n=0);for(var l=0;l<n;++l)e.charCodeAt(l)>=128&&v(\"not-basic\"),t.push(e.charCodeAt(l));for(var u=n>0?n+1:0;u<a;){for(var h=o,d=1,f=36;;f+=36){u>=a&&v(\"invalid-input\");var m=(r=e.charCodeAt(u++))-48<10?r-22:r-65<26?r-65:r-97<26?r-97:36;(m>=36||m>p((c-o)/d))&&v(\"overflow\"),o+=m*d;var g=f<=i?1:f>=i+26?26:f-i;if(m<g)break;var y=36-g;d>p(c/y)&&v(\"overflow\"),d*=y}var P=t.length+1;i=E(o-h,P,0==h),p(o/P)>c-s&&v(\"overflow\"),s+=p(o/P),o%=P,t.splice(o++,0,s)}return String.fromCodePoint.apply(String,t)},b=function(e){var r=[],t=(e=y(e)).length,a=128,o=0,s=72,i=!0,n=!1,l=void 0;try{for(var u,h=e[Symbol.iterator]();!(i=(u=h.next()).done);i=!0){var d=u.value;d<128&&r.push(m(d))}}catch(e){n=!0,l=e}finally{try{!i&&h.return&&h.return()}finally{if(n)throw l}}var f=r.length,g=f;for(f&&r.push(\"-\");g<t;){var w=c,b=!0,S=!1,_=void 0;try{for(var x,I=e[Symbol.iterator]();!(b=(x=I.next()).done);b=!0){var F=x.value;F>=a&&F<w&&(w=F)}}catch(e){S=!0,_=e}finally{try{!b&&I.return&&I.return()}finally{if(S)throw _}}var R=g+1;w-a>p((c-o)/R)&&v(\"overflow\"),o+=(w-a)*R,a=w;var D=!0,$=!1,O=void 0;try{for(var j,C=e[Symbol.iterator]();!(D=(j=C.next()).done);D=!0){var A=j.value;if(A<a&&++o>c&&v(\"overflow\"),A==a){for(var T=o,k=36;;k+=36){var N=k<=s?1:k>=s+26?26:k-s;if(T<N)break;var z=T-N,L=36-N;r.push(m(P(N+z%L,0))),T=p(z/L)}r.push(m(P(T,0))),s=E(o,R,g==f),o=0,++g}}}catch(e){$=!0,O=e}finally{try{!D&&C.return&&C.return()}finally{if($)throw O}}++o,++a}return r.join(\"\")},S={version:\"2.1.0\",ucs2:{decode:y,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:w,encode:b,toASCII:function(e){return g(e,function(e){return h.test(e)?\"xn--\"+b(e):e})},toUnicode:function(e){return g(e,function(e){return u.test(e)?w(e.slice(4).toLowerCase()):e})}},_={};function x(e){var r=e.charCodeAt(0);return r<16?\"%0\"+r.toString(16).toUpperCase():r<128?\"%\"+r.toString(16).toUpperCase():r<2048?\"%\"+(r>>6|192).toString(16).toUpperCase()+\"%\"+(63&r|128).toString(16).toUpperCase():\"%\"+(r>>12|224).toString(16).toUpperCase()+\"%\"+(r>>6&63|128).toString(16).toUpperCase()+\"%\"+(63&r|128).toString(16).toUpperCase()}function I(e){for(var r=\"\",t=0,a=e.length;t<a;){var o=parseInt(e.substr(t+1,2),16);if(o<128)r+=String.fromCharCode(o),t+=3;else if(o>=194&&o<224){if(a-t>=6){var s=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&o)<<6|63&s)}else r+=e.substr(t,6);t+=6}else if(o>=224){if(a-t>=9){var i=parseInt(e.substr(t+4,2),16),n=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&n)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function F(e,r){function t(e){var t=I(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,\"\")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,x).replace(r.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,x).replace(r.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,x).replace(r.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,x).replace(r.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,x).replace(r.PCT_ENCODED,o)),e}function R(e){return e.replace(/^0*(.*)/,\"$1\")||\"0\"}function D(e,r){var t=e.match(r.IPV4ADDRESS)||[],a=l(t,2),o=a[1];return o?o.split(\".\").map(R).join(\".\"):e}function $(e,r){var t=e.match(r.IPV6ADDRESS)||[],a=l(t,3),o=a[1],s=a[2];if(o){for(var i=o.toLowerCase().split(\"::\").reverse(),n=l(i,2),c=n[0],u=n[1],h=u?u.split(\":\").map(R):[],d=c.split(\":\").map(R),f=r.IPV4ADDRESS.test(d[d.length-1]),p=f?7:8,m=d.length-p,v=Array(p),g=0;g<p;++g)v[g]=h[g]||d[m+g]||\"\";f&&(v[p-1]=D(v[p-1],r));var y=v.reduce(function(e,r,t){if(!r||\"0\"===r){var a=e[e.length-1];a&&a.index+a.length===t?a.length++:e.push({index:t,length:1})}return e},[]),P=y.sort(function(e,r){return r.length-e.length})[0],E=void 0;if(P&&P.length>1){var w=v.slice(0,P.index),b=v.slice(P.index+P.length);E=w.join(\":\")+\"::\"+b.join(\":\")}else E=v.join(\":\");return s&&(E+=\"%\"+s),E}return e}var O=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i,j=void 0===\"\".match(/(){0}/)[1];function C(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},a=!1!==r.iri?n:i;\"suffix\"===r.reference&&(e=(r.scheme?r.scheme+\":\":\"\")+\"//\"+e);var o=e.match(O);if(o){j?(t.scheme=o[1],t.userinfo=o[3],t.host=o[4],t.port=parseInt(o[5],10),t.path=o[6]||\"\",t.query=o[7],t.fragment=o[8],isNaN(t.port)&&(t.port=o[5])):(t.scheme=o[1]||void 0,t.userinfo=-1!==e.indexOf(\"@\")?o[3]:void 0,t.host=-1!==e.indexOf(\"//\")?o[4]:void 0,t.port=parseInt(o[5],10),t.path=o[6]||\"\",t.query=-1!==e.indexOf(\"?\")?o[7]:void 0,t.fragment=-1!==e.indexOf(\"#\")?o[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/)?o[4]:void 0)),t.host&&(t.host=$(D(t.host,a),a)),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference=\"relative\":void 0===t.fragment?t.reference=\"absolute\":t.reference=\"uri\":t.reference=\"same-document\",r.reference&&\"suffix\"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||\"URI is not a \"+r.reference+\" reference.\");var s=_[(r.scheme||t.scheme||\"\").toLowerCase()];if(r.unicodeSupport||s&&s.unicodeSupport)F(t,a);else{if(t.host&&(r.domainHost||s&&s.domainHost))try{t.host=S.toASCII(t.host.replace(a.PCT_ENCODED,I).toLowerCase())}catch(e){t.error=t.error||\"Host's domain name can not be converted to ASCII via punycode: \"+e}F(t,i)}s&&s.parse&&s.parse(t,r)}else t.error=t.error||\"URI can not be parsed.\";return t}var A=/^\\.\\.?\\//,T=/^\\/\\.(\\/|$)/,k=/^\\/\\.\\.(\\/|$)/,N=/^\\/?(?:.|\\n)*?(?=\\/|$)/;function z(e){for(var r=[];e.length;)if(e.match(A))e=e.replace(A,\"\");else if(e.match(T))e=e.replace(T,\"/\");else if(e.match(k))e=e.replace(k,\"/\"),r.pop();else if(\".\"===e||\"..\"===e)e=\"\";else{var t=e.match(N);if(!t)throw new Error(\"Unexpected dot segment condition\");var a=t[0];e=e.slice(a.length),r.push(a)}return r.join(\"\")}function L(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?n:i,a=[],o=_[(r.scheme||e.scheme||\"\").toLowerCase()];if(o&&o.serialize&&o.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||o&&o.domainHost)try{e.host=r.iri?S.toUnicode(e.host):S.toASCII(e.host.replace(t.PCT_ENCODED,I).toLowerCase())}catch(t){e.error=e.error||\"Host's domain name can not be converted to \"+(r.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+t}F(e,t),\"suffix\"!==r.reference&&e.scheme&&(a.push(e.scheme),a.push(\":\"));var s=function(e,r){var t=!1!==r.iri?n:i,a=[];return void 0!==e.userinfo&&(a.push(e.userinfo),a.push(\"@\")),void 0!==e.host&&a.push($(D(String(e.host),t),t).replace(t.IPV6ADDRESS,function(e,r,t){return\"[\"+r+(t?\"%25\"+t:\"\")+\"]\"})),\"number\"==typeof e.port&&(a.push(\":\"),a.push(e.port.toString(10))),a.length?a.join(\"\"):void 0}(e,r);if(void 0!==s&&(\"suffix\"!==r.reference&&a.push(\"//\"),a.push(s),e.path&&\"/\"!==e.path.charAt(0)&&a.push(\"/\")),void 0!==e.path){var l=e.path;r.absolutePath||o&&o.absolutePath||(l=z(l)),void 0===s&&(l=l.replace(/^\\/\\//,\"/%2F\")),a.push(l)}return void 0!==e.query&&(a.push(\"?\"),a.push(e.query)),void 0!==e.fragment&&(a.push(\"#\"),a.push(e.fragment)),a.join(\"\")}function V(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3],o={};return a||(e=C(L(e,t),t),r=C(L(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(o.scheme=r.scheme,o.userinfo=r.userinfo,o.host=r.host,o.port=r.port,o.path=z(r.path||\"\"),o.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(o.userinfo=r.userinfo,o.host=r.host,o.port=r.port,o.path=z(r.path||\"\"),o.query=r.query):(r.path?(\"/\"===r.path.charAt(0)?o.path=z(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf(\"/\")+1)+r.path:o.path=r.path:o.path=\"/\"+r.path,o.path=z(o.path)),o.query=r.query):(o.path=e.path,void 0!==r.query?o.query=r.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=r.fragment,o}function M(e,r){return e&&e.toString().replace(r&&r.iri?n.PCT_ENCODED:i.PCT_ENCODED,I)}var U={scheme:\"http\",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||\"HTTP URIs must have a host.\"),e},serialize:function(e,r){return e.port!==(\"https\"!==String(e.scheme).toLowerCase()?80:443)&&\"\"!==e.port||(e.port=void 0),e.path||(e.path=\"/\"),e}},q={scheme:\"https\",domainHost:U.domainHost,parse:U.parse,serialize:U.serialize},Q={},H=\"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\",B=\"[0-9A-Fa-f]\",J=t(t(\"%[EFef][0-9A-Fa-f]%\"+B+B+\"%\"+B+B)+\"|\"+t(\"%[89A-Fa-f][0-9A-Fa-f]%\"+B+B)+\"|\"+t(\"%\"+B+B)),K=r(\"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\",'[\\\\\"\\\\\\\\]'),Z=new RegExp(H,\"g\"),G=new RegExp(J,\"g\"),Y=new RegExp(r(\"[^]\",\"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\",\"[\\\\.]\",'[\\\\\"]',K),\"g\"),W=new RegExp(r(\"[^]\",H,\"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\"),\"g\"),X=W;function ee(e){var r=I(e);return r.match(Z)?r:e}var re={scheme:\"mailto\",parse:function(e,r){var t=e,a=t.to=t.path?t.path.split(\",\"):[];if(t.path=void 0,t.query){for(var o=!1,s={},i=t.query.split(\"&\"),n=0,l=i.length;n<l;++n){var c=i[n].split(\"=\");switch(c[0]){case\"to\":for(var u=c[1].split(\",\"),h=0,d=u.length;h<d;++h)a.push(u[h]);break;case\"subject\":t.subject=M(c[1],r);break;case\"body\":t.body=M(c[1],r);break;default:o=!0,s[M(c[0],r)]=M(c[1],r)}}o&&(t.headers=s)}t.query=void 0;for(var f=0,p=a.length;f<p;++f){var m=a[f].split(\"@\");if(m[0]=M(m[0]),r.unicodeSupport)m[1]=M(m[1],r).toLowerCase();else try{m[1]=S.toASCII(M(m[1],r).toLowerCase())}catch(e){t.error=t.error||\"Email address's domain name can not be converted to ASCII via punycode: \"+e}a[f]=m.join(\"@\")}return t},serialize:function(e,r){var t,a=e,s=null!=(t=e.to)?t instanceof Array?t:\"number\"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[];if(s){for(var i=0,n=s.length;i<n;++i){var l=String(s[i]),c=l.lastIndexOf(\"@\"),u=l.slice(0,c).replace(G,ee).replace(G,o).replace(Y,x),h=l.slice(c+1);try{h=r.iri?S.toUnicode(h):S.toASCII(M(h,r).toLowerCase())}catch(e){a.error=a.error||\"Email address's domain name can not be converted to \"+(r.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+e}s[i]=u+\"@\"+h}a.path=s.join(\",\")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var f=[];for(var p in d)d[p]!==Q[p]&&f.push(p.replace(G,ee).replace(G,o).replace(W,x)+\"=\"+d[p].replace(G,ee).replace(G,o).replace(X,x));return f.length&&(a.query=f.join(\"&\")),a}},te=/^([^\\:]+)\\:(.*)/,ae={scheme:\"urn\",parse:function(e,r){var t=e.path&&e.path.match(te),a=e;if(t){var o=r.scheme||a.scheme||\"urn\",s=t[1].toLowerCase(),i=t[2],n=o+\":\"+(r.nid||s),l=_[n];a.nid=s,a.nss=i,a.path=void 0,l&&(a=l.parse(a,r))}else a.error=a.error||\"URN can not be parsed.\";return a},serialize:function(e,r){var t=r.scheme||e.scheme||\"urn\",a=e.nid,o=t+\":\"+(r.nid||a),s=_[o];s&&(e=s.serialize(e,r));var i=e,n=e.nss;return i.path=(a||r.nid)+\":\"+n,i}},oe=/^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/,se={scheme:\"urn:uuid\",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(oe)||(t.error=t.error||\"UUID is not valid.\"),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||\"\").toLowerCase(),t}};_[U.scheme]=U,_[q.scheme]=q,_[re.scheme]=re,_[ae.scheme]=ae,_[se.scheme]=se,e.SCHEMES=_,e.pctEncChar=x,e.pctDecChars=I,e.parse=C,e.removeDotSegments=z,e.serialize=L,e.resolveComponents=V,e.resolve=function(e,r,t){var a=function(e,r){var t=e;if(r)for(var a in r)t[a]=r[a];return t}({scheme:\"null\"},t);return L(V(C(e,a),C(r,a),a,!0),a)},e.normalize=function(e,r){return\"string\"==typeof e?e=L(C(e,r),r):\"object\"===a(e)&&(e=C(L(e,r),r)),e},e.equal=function(e,r,t){return\"string\"==typeof e?e=L(C(e,t),t):\"object\"===a(e)&&(e=L(e,t)),\"string\"==typeof r?r=L(C(r,t),t):\"object\"===a(r)&&(r=L(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?n.ESCAPE:i.ESCAPE,x)},e.unescapeComponent=M,Object.defineProperty(e,\"__esModule\",{value:!0})}(r)},function(e,r,t){\"use strict\";e.exports=function(e){for(var r,t=0,a=e.length,o=0;o<a;)t++,(r=e.charCodeAt(o++))>=55296&&r<=56319&&o<a&&56320==(64512&(r=e.charCodeAt(o)))&&o++;return t}},function(e,r,t){\"use strict\";var a=e.exports=function(e,r,t){\"function\"==typeof r&&(t=r,r={}),function e(r,t,o,s,i,n,l,c,u,h){if(s&&\"object\"==typeof s&&!Array.isArray(s)){for(var d in t(s,i,n,l,c,u,h),s){var f=s[d];if(Array.isArray(f)){if(d in a.arrayKeywords)for(var p=0;p<f.length;p++)e(r,t,o,f[p],i+\"/\"+d+\"/\"+p,n,i,d,s,p)}else if(d in a.propsKeywords){if(f&&\"object\"==typeof f)for(var m in f)e(r,t,o,f[m],i+\"/\"+d+\"/\"+m.replace(/~/g,\"~0\").replace(/\\//g,\"~1\"),n,i,d,s,m)}else(d in a.keywords||r.allKeys&&!(d in a.skipKeywords))&&e(r,t,o,f,i+\"/\"+d,n,i,d,s)}o(s,i,n,l,c,u,h)}}(r,\"function\"==typeof(t=r.cb||t)?t:t.pre||function(){},t.post||function(){},e,\"\",e)};a.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},a.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},a.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},a.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,r,t){\"use strict\";var a=e.exports=function(){this._cache={}};a.prototype.put=function(e,r){this._cache[e]=r},a.prototype.get=function(e){return this._cache[e]},a.prototype.del=function(e){delete this._cache[e]},a.prototype.clear=function(){this._cache={}}},function(e,r,t){\"use strict\";var a=t(0),o=/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=/^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i,n=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#.\\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,u=/^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i,h=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,d=/^(?:\\/(?:[^~\\/]|~0|~1)*)*$/,f=/^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~\\/]|~0|~1)*)*)$/;function m(e){return e=\"full\"==e?\"full\":\"fast\",a.copy(m[e])}function v(e){var r=e.match(o);if(!r)return!1;var t=+r[1],a=+r[2],i=+r[3];return a>=1&&a<=12&&i>=1&&i<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(t)?29:s[a])}function g(e,r){var t=e.match(i);if(!t)return!1;var a=t[1],o=t[2],s=t[3],n=t[5];return(a<=23&&o<=59&&s<=59||23==a&&59==o&&60==s)&&(!r||n)}e.exports=m,m.fast={date:/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,time:/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\"date-time\":/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\"uri-reference\":/^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\"uri-template\":c,url:u,email:/^[a-z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:w,uuid:h,\"json-pointer\":d,\"json-pointer-uri-fragment\":f,\"relative-json-pointer\":p},m.full={date:v,time:g,\"date-time\":function(e){var r=e.split(y);return 2==r.length&&v(r[0])&&g(r[1],!0)},uri:function(e){return P.test(e)&&l.test(e)},\"uri-reference\":/^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i,\"uri-template\":c,url:u,email:/^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&n.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:w,uuid:h,\"json-pointer\":d,\"json-pointer-uri-fragment\":f,\"relative-json-pointer\":p};var y=/t|\\s/i;var P=/\\/|:/;var E=/[^\\\\]\\\\Z/;function w(e){if(E.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,r,t){\"use strict\";var a=t(28),o=t(0).toHash;e.exports=function(){var e=[{type:\"number\",rules:[{maximum:[\"exclusiveMaximum\"]},{minimum:[\"exclusiveMinimum\"]},\"multipleOf\",\"format\"]},{type:\"string\",rules:[\"maxLength\",\"minLength\",\"pattern\",\"format\"]},{type:\"array\",rules:[\"maxItems\",\"minItems\",\"items\",\"contains\",\"uniqueItems\"]},{type:\"object\",rules:[\"maxProperties\",\"minProperties\",\"required\",\"dependencies\",\"propertyNames\",{properties:[\"additionalProperties\",\"patternProperties\"]}]},{rules:[\"$ref\",\"const\",\"enum\",\"not\",\"anyOf\",\"oneOf\",\"allOf\",\"if\"]}],r=[\"type\",\"$comment\"];return e.all=o(r),e.types=o([\"number\",\"integer\",\"string\",\"array\",\"object\",\"boolean\",\"null\"]),e.forEach(function(t){t.rules=t.rules.map(function(t){var o;if(\"object\"==typeof t){var s=Object.keys(t)[0];o=t[s],t=s,o.forEach(function(t){r.push(t),e.all[t]=!0})}return r.push(t),e.all[t]={keyword:t,code:a[t],implements:o}}),e.all.$comment={keyword:\"$comment\",code:a.$comment},t.type&&(e.types[t.type]=t)}),e.keywords=o(r.concat([\"$schema\",\"$id\",\"id\",\"$data\",\"title\",\"description\",\"default\",\"definitions\",\"examples\",\"readOnly\",\"writeOnly\",\"contentMediaType\",\"contentEncoding\",\"additionalItems\",\"then\",\"else\"])),e.custom={},e}},function(e,r,t){\"use strict\";e.exports={$ref:t(29),allOf:t(30),anyOf:t(31),$comment:t(32),const:t(33),contains:t(34),dependencies:t(35),enum:t(36),format:t(37),if:t(38),items:t(39),maximum:t(11),minimum:t(11),maxItems:t(12),minItems:t(12),maxLength:t(13),minLength:t(13),maxProperties:t(14),minProperties:t(14),multipleOf:t(40),not:t(41),oneOf:t(42),pattern:t(43),properties:t(44),propertyNames:t(45),required:t(46),uniqueItems:t(47),validate:t(10)}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o,s=\" \",i=e.level,n=e.dataLevel,l=e.schema[r],c=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,h=\"data\"+(n||\"\"),d=\"valid\"+i;if(\"#\"==l||\"#/\"==l)e.isRoot?(a=e.async,o=\"validate\"):(a=!0===e.root.schema.$async,o=\"root.refVal[0]\");else{var f=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===f){var p=e.MissingRefError.message(e.baseId,l);if(\"fail\"==e.opts.missingRefs){e.logger.error(p),(y=y||[]).push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: '$ref' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { ref: '\"+e.util.escapeQuotes(l)+\"' } \",!1!==e.opts.messages&&(s+=\" , message: 'can\\\\'t resolve reference \"+e.util.escapeQuotes(l)+\"' \"),e.opts.verbose&&(s+=\" , schema: \"+e.util.toQuotedString(l)+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),s+=\" } \"):s+=\" {} \";var m=s;s=y.pop(),!e.compositeRule&&u?e.async?s+=\" throw new ValidationError([\"+m+\"]); \":s+=\" validate.errors = [\"+m+\"]; return false; \":s+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",u&&(s+=\" if (false) { \")}else{if(\"ignore\"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,p);e.logger.warn(p),u&&(s+=\" if (true) { \")}}else if(f.inline){var v=e.util.copy(e);v.level++;var g=\"valid\"+v.level;v.schema=f.schema,v.schemaPath=\"\",v.errSchemaPath=l,s+=\" \"+e.validate(v).replace(/validate\\.schema/g,f.code)+\" \",u&&(s+=\" if (\"+g+\") { \")}else a=!0===f.$async||e.async&&!1!==f.$async,o=f.code}if(o){var y;(y=y||[]).push(s),s=\"\",e.opts.passContext?s+=\" \"+o+\".call(this, \":s+=\" \"+o+\"( \",s+=\" \"+h+\", (dataPath || '')\",'\"\"'!=e.errorPath&&(s+=\" + \"+e.errorPath);var P=s+=\" , \"+(n?\"data\"+(n-1||\"\"):\"parentData\")+\" , \"+(n?e.dataPathArr[n]:\"parentDataProperty\")+\", rootData)  \";if(s=y.pop(),a){if(!e.async)throw new Error(\"async schema referenced by sync schema\");u&&(s+=\" var \"+d+\"; \"),s+=\" try { await \"+P+\"; \",u&&(s+=\" \"+d+\" = true; \"),s+=\" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; \",u&&(s+=\" \"+d+\" = false; \"),s+=\" } \",u&&(s+=\" if (\"+d+\") { \")}else s+=\" if (!\"+P+\") { if (vErrors === null) vErrors = \"+o+\".errors; else vErrors = vErrors.concat(\"+o+\".errors); errors = vErrors.length; } \",u&&(s+=\" else { \")}return s}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),i=e.errSchemaPath+\"/\"+r,n=!e.opts.allErrors,l=e.util.copy(e),c=\"\";l.level++;var u=\"valid\"+l.level,h=l.baseId,d=!0,f=o;if(f)for(var p,m=-1,v=f.length-1;m<v;)p=f[m+=1],e.util.schemaHasRules(p,e.RULES.all)&&(d=!1,l.schema=p,l.schemaPath=s+\"[\"+m+\"]\",l.errSchemaPath=i+\"/\"+m,a+=\"  \"+e.validate(l)+\" \",l.baseId=h,n&&(a+=\" if (\"+u+\") { \",c+=\"}\"));return n&&(a+=d?\" if (true) { \":\" \"+c.slice(0,-1)+\" \"),a=e.util.cleanUpCode(a)}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"valid\"+o,d=\"errs__\"+o,f=e.util.copy(e),p=\"\";f.level++;var m=\"valid\"+f.level;if(i.every(function(r){return e.util.schemaHasRules(r,e.RULES.all)})){var v=f.baseId;a+=\" var \"+d+\" = errors; var \"+h+\" = false;  \";var g=e.compositeRule;e.compositeRule=f.compositeRule=!0;var y=i;if(y)for(var P,E=-1,w=y.length-1;E<w;)P=y[E+=1],f.schema=P,f.schemaPath=n+\"[\"+E+\"]\",f.errSchemaPath=l+\"/\"+E,a+=\"  \"+e.validate(f)+\" \",f.baseId=v,a+=\" \"+h+\" = \"+h+\" || \"+m+\"; if (!\"+h+\") { \",p+=\"}\";e.compositeRule=f.compositeRule=g,a+=\" \"+p+\" if (!\"+h+\") {   var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'anyOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'should match some schema in anyOf' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?a+=\" throw new ValidationError(vErrors); \":a+=\" validate.errors = vErrors; return false; \"),a+=\" } else {  errors = \"+d+\"; if (vErrors !== null) { if (\"+d+\") vErrors.length = \"+d+\"; else vErrors = null; } \",e.opts.allErrors&&(a+=\" } \"),a=e.util.cleanUpCode(a)}else c&&(a+=\" if (true) { \");return a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.schema[r],s=e.errSchemaPath+\"/\"+r,i=(e.opts.allErrors,e.util.toQuotedString(o));return!0===e.opts.$comment?a+=\" console.log(\"+i+\");\":\"function\"==typeof e.opts.$comment&&(a+=\" self._opts.$comment(\"+i+\", \"+e.util.toQuotedString(s)+\", validate.root.schema);\"),a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"valid\"+o,d=e.opts.$data&&i&&i.$data;d&&(a+=\" var schema\"+o+\" = \"+e.util.getData(i.$data,s,e.dataPathArr)+\"; \"),d||(a+=\" var schema\"+o+\" = validate.schema\"+n+\";\"),a+=\"var \"+h+\" = equal(\"+u+\", schema\"+o+\"); if (!\"+h+\") {   \";var f=f||[];f.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'const' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { allowedValue: schema\"+o+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should be equal to constant' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var p=a;return a=f.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+p+\"]); \":a+=\" validate.errors = [\"+p+\"]; return false; \":a+=\" var err = \"+p+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" }\",c&&(a+=\" else { \"),a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"valid\"+o,d=\"errs__\"+o,f=e.util.copy(e);f.level++;var p=\"valid\"+f.level,m=\"i\"+o,v=f.dataLevel=e.dataLevel+1,g=\"data\"+v,y=e.baseId,P=e.util.schemaHasRules(i,e.RULES.all);if(a+=\"var \"+d+\" = errors;var \"+h+\";\",P){var E=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=i,f.schemaPath=n,f.errSchemaPath=l,a+=\" var \"+p+\" = false; for (var \"+m+\" = 0; \"+m+\" < \"+u+\".length; \"+m+\"++) { \",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=u+\"[\"+m+\"]\";f.dataPathArr[v]=m;var b=e.validate(f);f.baseId=y,e.util.varOccurences(b,g)<2?a+=\" \"+e.util.varReplace(b,g,w)+\" \":a+=\" var \"+g+\" = \"+w+\"; \"+b+\" \",a+=\" if (\"+p+\") break; }  \",e.compositeRule=f.compositeRule=E,a+=\"  if (!\"+p+\") {\"}else a+=\" if (\"+u+\".length == 0) {\";var S=S||[];S.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'contains' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'should contain a valid item' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var _=a;return a=S.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+_+\"]); \":a+=\" validate.errors = [\"+_+\"]; return false; \":a+=\" var err = \"+_+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else { \",P&&(a+=\"  errors = \"+d+\"; if (vErrors !== null) { if (\"+d+\") vErrors.length = \"+d+\"; else vErrors = null; } \"),e.opts.allErrors&&(a+=\" } \"),a=e.util.cleanUpCode(a)}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"errs__\"+o,d=e.util.copy(e),f=\"\";d.level++;var p=\"valid\"+d.level,m={},v={},g=e.opts.ownProperties;for(w in i){var y=i[w],P=Array.isArray(y)?v:m;P[w]=y}a+=\"var \"+h+\" = errors;\";var E=e.errorPath;for(var w in a+=\"var missing\"+o+\";\",v)if((P=v[w]).length){if(a+=\" if ( \"+u+e.util.getProperty(w)+\" !== undefined \",g&&(a+=\" && Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(w)+\"') \"),c){a+=\" && ( \";var b=P;if(b)for(var S=-1,_=b.length-1;S<_;){$=b[S+=1],S&&(a+=\" || \"),a+=\" ( ( \"+(A=u+(C=e.util.getProperty($)))+\" === undefined \",g&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes($)+\"') \"),a+=\") && (missing\"+o+\" = \"+e.util.toQuotedString(e.opts.jsonPointers?$:C)+\") ) \"}a+=\")) {  \";var x=\"missing\"+o,I=\"' + \"+x+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(E,x,!0):E+\" + \"+x);var F=F||[];F.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { property: '\"+e.util.escapeQuotes(w)+\"', missingProperty: '\"+I+\"', depsCount: \"+P.length+\", deps: '\"+e.util.escapeQuotes(1==P.length?P[0]:P.join(\", \"))+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should have \",1==P.length?a+=\"property \"+e.util.escapeQuotes(P[0]):a+=\"properties \"+e.util.escapeQuotes(P.join(\", \")),a+=\" when property \"+e.util.escapeQuotes(w)+\" is present' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var R=a;a=F.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+R+\"]); \":a+=\" validate.errors = [\"+R+\"]; return false; \":a+=\" var err = \"+R+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else{a+=\" ) { \";var D=P;if(D)for(var $,O=-1,j=D.length-1;O<j;){$=D[O+=1];var C=e.util.getProperty($),A=(I=e.util.escapeQuotes($),u+C);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(E,$,e.opts.jsonPointers)),a+=\" if ( \"+A+\" === undefined \",g&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes($)+\"') \"),a+=\") {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { property: '\"+e.util.escapeQuotes(w)+\"', missingProperty: '\"+I+\"', depsCount: \"+P.length+\", deps: '\"+e.util.escapeQuotes(1==P.length?P[0]:P.join(\", \"))+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should have \",1==P.length?a+=\"property \"+e.util.escapeQuotes(P[0]):a+=\"properties \"+e.util.escapeQuotes(P.join(\", \")),a+=\" when property \"+e.util.escapeQuotes(w)+\" is present' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}a+=\" }   \",c&&(f+=\"}\",a+=\" else { \")}e.errorPath=E;var T=d.baseId;for(var w in m){y=m[w];e.util.schemaHasRules(y,e.RULES.all)&&(a+=\" \"+p+\" = true; if ( \"+u+e.util.getProperty(w)+\" !== undefined \",g&&(a+=\" && Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(w)+\"') \"),a+=\") { \",d.schema=y,d.schemaPath=n+e.util.getProperty(w),d.errSchemaPath=l+\"/\"+e.util.escapeFragment(w),a+=\"  \"+e.validate(d)+\" \",d.baseId=T,a+=\" }  \",c&&(a+=\" if (\"+p+\") { \",f+=\"}\"))}return c&&(a+=\"   \"+f+\" if (\"+h+\" == errors) {\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"valid\"+o,d=e.opts.$data&&i&&i.$data;d&&(a+=\" var schema\"+o+\" = \"+e.util.getData(i.$data,s,e.dataPathArr)+\"; \");var f=\"i\"+o,p=\"schema\"+o;d||(a+=\" var \"+p+\" = validate.schema\"+n+\";\"),a+=\"var \"+h+\";\",d&&(a+=\" if (schema\"+o+\" === undefined) \"+h+\" = true; else if (!Array.isArray(schema\"+o+\")) \"+h+\" = false; else {\"),a+=h+\" = false;for (var \"+f+\"=0; \"+f+\"<\"+p+\".length; \"+f+\"++) if (equal(\"+u+\", \"+p+\"[\"+f+\"])) { \"+h+\" = true; break; }\",d&&(a+=\"  }  \"),a+=\" if (!\"+h+\") {   \";var m=m||[];m.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'enum' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { allowedValues: schema\"+o+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should be equal to one of the allowed values' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var v=a;return a=m.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+v+\"]); \":a+=\" validate.errors = [\"+v+\"]; return false; \":a+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" }\",c&&(a+=\" else { \"),a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\");if(!1===e.opts.format)return c&&(a+=\" if (true) { \"),a;var h,d=e.opts.$data&&i&&i.$data;d?(a+=\" var schema\"+o+\" = \"+e.util.getData(i.$data,s,e.dataPathArr)+\"; \",h=\"schema\"+o):h=i;var f=e.opts.unknownFormats,p=Array.isArray(f);if(d){a+=\" var \"+(m=\"format\"+o)+\" = formats[\"+h+\"]; var \"+(v=\"isObject\"+o)+\" = typeof \"+m+\" == 'object' && !(\"+m+\" instanceof RegExp) && \"+m+\".validate; var \"+(g=\"formatType\"+o)+\" = \"+v+\" && \"+m+\".type || 'string'; if (\"+v+\") { \",e.async&&(a+=\" var async\"+o+\" = \"+m+\".async; \"),a+=\" \"+m+\" = \"+m+\".validate; } if (  \",d&&(a+=\" (\"+h+\" !== undefined && typeof \"+h+\" != 'string') || \"),a+=\" (\",\"ignore\"!=f&&(a+=\" (\"+h+\" && !\"+m+\" \",p&&(a+=\" && self._opts.unknownFormats.indexOf(\"+h+\") == -1 \"),a+=\") || \"),a+=\" (\"+m+\" && \"+g+\" == '\"+t+\"' && !(typeof \"+m+\" == 'function' ? \",e.async?a+=\" (async\"+o+\" ? await \"+m+\"(\"+u+\") : \"+m+\"(\"+u+\")) \":a+=\" \"+m+\"(\"+u+\") \",a+=\" : \"+m+\".test(\"+u+\"))))) {\"}else{var m;if(!(m=e.formats[i])){if(\"ignore\"==f)return e.logger.warn('unknown format \"'+i+'\" ignored in schema at path \"'+e.errSchemaPath+'\"'),c&&(a+=\" if (true) { \"),a;if(p&&f.indexOf(i)>=0)return c&&(a+=\" if (true) { \"),a;throw new Error('unknown format \"'+i+'\" is used in schema at path \"'+e.errSchemaPath+'\"')}var v,g=(v=\"object\"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||\"string\";if(v){var y=!0===m.async;m=m.validate}if(g!=t)return c&&(a+=\" if (true) { \"),a;if(y){if(!e.async)throw new Error(\"async format in sync schema\");a+=\" if (!(await \"+(P=\"formats\"+e.util.getProperty(i)+\".validate\")+\"(\"+u+\"))) { \"}else{a+=\" if (! \";var P=\"formats\"+e.util.getProperty(i);v&&(P+=\".validate\"),a+=\"function\"==typeof m?\" \"+P+\"(\"+u+\") \":\" \"+P+\".test(\"+u+\") \",a+=\") { \"}}var E=E||[];E.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'format' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { format:  \",a+=d?\"\"+h:\"\"+e.util.toQuotedString(i),a+=\"  } \",!1!==e.opts.messages&&(a+=\" , message: 'should match format \\\"\",a+=d?\"' + \"+h+\" + '\":\"\"+e.util.escapeQuotes(i),a+=\"\\\"' \"),e.opts.verbose&&(a+=\" , schema:  \",a+=d?\"validate.schema\"+n:\"\"+e.util.toQuotedString(i),a+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var w=a;return a=E.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+w+\"]); \":a+=\" validate.errors = [\"+w+\"]; return false; \":a+=\" var err = \"+w+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } \",c&&(a+=\" else { \"),a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"valid\"+o,d=\"errs__\"+o,f=e.util.copy(e);f.level++;var p=\"valid\"+f.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),y=void 0!==v&&e.util.schemaHasRules(v,e.RULES.all),P=f.baseId;if(g||y){var E;f.createErrors=!1,f.schema=i,f.schemaPath=n,f.errSchemaPath=l,a+=\" var \"+d+\" = errors; var \"+h+\" = true;  \";var w=e.compositeRule;e.compositeRule=f.compositeRule=!0,a+=\"  \"+e.validate(f)+\" \",f.baseId=P,f.createErrors=!0,a+=\"  errors = \"+d+\"; if (vErrors !== null) { if (\"+d+\") vErrors.length = \"+d+\"; else vErrors = null; }  \",e.compositeRule=f.compositeRule=w,g?(a+=\" if (\"+p+\") {  \",f.schema=e.schema.then,f.schemaPath=e.schemaPath+\".then\",f.errSchemaPath=e.errSchemaPath+\"/then\",a+=\"  \"+e.validate(f)+\" \",f.baseId=P,a+=\" \"+h+\" = \"+p+\"; \",g&&y?a+=\" var \"+(E=\"ifClause\"+o)+\" = 'then'; \":E=\"'then'\",a+=\" } \",y&&(a+=\" else { \")):a+=\" if (!\"+p+\") { \",y&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+\".else\",f.errSchemaPath=e.errSchemaPath+\"/else\",a+=\"  \"+e.validate(f)+\" \",f.baseId=P,a+=\" \"+h+\" = \"+p+\"; \",g&&y?a+=\" var \"+(E=\"ifClause\"+o)+\" = 'else'; \":E=\"'else'\",a+=\" } \"),a+=\" if (!\"+h+\") {   var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'if' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { failingKeyword: \"+E+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should match \\\"' + \"+E+\" + '\\\" schema' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?a+=\" throw new ValidationError(vErrors); \":a+=\" validate.errors = vErrors; return false; \"),a+=\" }   \",c&&(a+=\" else { \"),a=e.util.cleanUpCode(a)}else c&&(a+=\" if (true) { \");return a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"valid\"+o,d=\"errs__\"+o,f=e.util.copy(e),p=\"\";f.level++;var m=\"valid\"+f.level,v=\"i\"+o,g=f.dataLevel=e.dataLevel+1,y=\"data\"+g,P=e.baseId;if(a+=\"var \"+d+\" = errors;var \"+h+\";\",Array.isArray(i)){var E=e.schema.additionalItems;if(!1===E){a+=\" \"+h+\" = \"+u+\".length <= \"+i.length+\"; \";var w=l;l=e.errSchemaPath+\"/additionalItems\",a+=\"  if (!\"+h+\") {   \";var b=b||[];b.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'additionalItems' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { limit: \"+i.length+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should NOT have more than \"+i.length+\" items' \"),e.opts.verbose&&(a+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var S=a;a=b.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+S+\"]); \":a+=\" validate.errors = [\"+S+\"]; return false; \":a+=\" var err = \"+S+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } \",l=w,c&&(p+=\"}\",a+=\" else { \")}var _=i;if(_)for(var x,I=-1,F=_.length-1;I<F;)if(x=_[I+=1],e.util.schemaHasRules(x,e.RULES.all)){a+=\" \"+m+\" = true; if (\"+u+\".length > \"+I+\") { \";var R=u+\"[\"+I+\"]\";f.schema=x,f.schemaPath=n+\"[\"+I+\"]\",f.errSchemaPath=l+\"/\"+I,f.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0),f.dataPathArr[g]=I;var D=e.validate(f);f.baseId=P,e.util.varOccurences(D,y)<2?a+=\" \"+e.util.varReplace(D,y,R)+\" \":a+=\" var \"+y+\" = \"+R+\"; \"+D+\" \",a+=\" }  \",c&&(a+=\" if (\"+m+\") { \",p+=\"}\")}if(\"object\"==typeof E&&e.util.schemaHasRules(E,e.RULES.all)){f.schema=E,f.schemaPath=e.schemaPath+\".additionalItems\",f.errSchemaPath=e.errSchemaPath+\"/additionalItems\",a+=\" \"+m+\" = true; if (\"+u+\".length > \"+i.length+\") {  for (var \"+v+\" = \"+i.length+\"; \"+v+\" < \"+u+\".length; \"+v+\"++) { \",f.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);R=u+\"[\"+v+\"]\";f.dataPathArr[g]=v;D=e.validate(f);f.baseId=P,e.util.varOccurences(D,y)<2?a+=\" \"+e.util.varReplace(D,y,R)+\" \":a+=\" var \"+y+\" = \"+R+\"; \"+D+\" \",c&&(a+=\" if (!\"+m+\") break; \"),a+=\" } }  \",c&&(a+=\" if (\"+m+\") { \",p+=\"}\")}}else if(e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=n,f.errSchemaPath=l,a+=\"  for (var \"+v+\" = 0; \"+v+\" < \"+u+\".length; \"+v+\"++) { \",f.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);R=u+\"[\"+v+\"]\";f.dataPathArr[g]=v;D=e.validate(f);f.baseId=P,e.util.varOccurences(D,y)<2?a+=\" \"+e.util.varReplace(D,y,R)+\" \":a+=\" var \"+y+\" = \"+R+\"; \"+D+\" \",c&&(a+=\" if (!\"+m+\") break; \"),a+=\" }\"}return c&&(a+=\" \"+p+\" if (\"+d+\" == errors) {\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o=\" \",s=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,h=\"data\"+(i||\"\"),d=e.opts.$data&&n&&n.$data;d?(o+=\" var schema\"+s+\" = \"+e.util.getData(n.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+s):a=n,o+=\"var division\"+s+\";if (\",d&&(o+=\" \"+a+\" !== undefined && ( typeof \"+a+\" != 'number' || \"),o+=\" (division\"+s+\" = \"+h+\" / \"+a+\", \",e.opts.multipleOfPrecision?o+=\" Math.abs(Math.round(division\"+s+\") - division\"+s+\") > 1e-\"+e.opts.multipleOfPrecision+\" \":o+=\" division\"+s+\" !== parseInt(division\"+s+\") \",o+=\" ) \",d&&(o+=\"  )  \"),o+=\" ) {   \";var f=f||[];f.push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: 'multipleOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { multipleOf: \"+a+\" } \",!1!==e.opts.messages&&(o+=\" , message: 'should be multiple of \",o+=d?\"' + \"+a:a+\"'\"),e.opts.verbose&&(o+=\" , schema:  \",o+=d?\"validate.schema\"+l:\"\"+n,o+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),o+=\" } \"):o+=\" {} \";var p=o;return o=f.pop(),!e.compositeRule&&u?e.async?o+=\" throw new ValidationError([\"+p+\"]); \":o+=\" validate.errors = [\"+p+\"]; return false; \":o+=\" var err = \"+p+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",o+=\"} \",u&&(o+=\" else { \"),o}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"errs__\"+o,d=e.util.copy(e);d.level++;var f=\"valid\"+d.level;if(e.util.schemaHasRules(i,e.RULES.all)){d.schema=i,d.schemaPath=n,d.errSchemaPath=l,a+=\" var \"+h+\" = errors;  \";var p,m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(p=d.opts.allErrors,d.opts.allErrors=!1),a+=\" \"+e.validate(d)+\" \",d.createErrors=!0,p&&(d.opts.allErrors=p),e.compositeRule=d.compositeRule=m,a+=\" if (\"+f+\") {   \";var v=v||[];v.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'should NOT be valid' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var g=a;a=v.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+g+\"]); \":a+=\" validate.errors = [\"+g+\"]; return false; \":a+=\" var err = \"+g+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else {  errors = \"+h+\"; if (vErrors !== null) { if (\"+h+\") vErrors.length = \"+h+\"; else vErrors = null; } \",e.opts.allErrors&&(a+=\" } \")}else a+=\"  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'should NOT be valid' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",c&&(a+=\" if (false) { \");return a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"valid\"+o,d=\"errs__\"+o,f=e.util.copy(e),p=\"\";f.level++;var m=\"valid\"+f.level,v=f.baseId,g=\"prevValid\"+o,y=\"passingSchemas\"+o;a+=\"var \"+d+\" = errors , \"+g+\" = false , \"+h+\" = false , \"+y+\" = null; \";var P=e.compositeRule;e.compositeRule=f.compositeRule=!0;var E=i;if(E)for(var w,b=-1,S=E.length-1;b<S;)w=E[b+=1],e.util.schemaHasRules(w,e.RULES.all)?(f.schema=w,f.schemaPath=n+\"[\"+b+\"]\",f.errSchemaPath=l+\"/\"+b,a+=\"  \"+e.validate(f)+\" \",f.baseId=v):a+=\" var \"+m+\" = true; \",b&&(a+=\" if (\"+m+\" && \"+g+\") { \"+h+\" = false; \"+y+\" = [\"+y+\", \"+b+\"]; } else { \",p+=\"}\"),a+=\" if (\"+m+\") { \"+h+\" = \"+g+\" = true; \"+y+\" = \"+b+\"; }\";return e.compositeRule=f.compositeRule=P,a+=p+\"if (!\"+h+\") {   var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'oneOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { passingSchemas: \"+y+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should match exactly one schema in oneOf' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?a+=\" throw new ValidationError(vErrors); \":a+=\" validate.errors = vErrors; return false; \"),a+=\"} else {  errors = \"+d+\"; if (vErrors !== null) { if (\"+d+\") vErrors.length = \"+d+\"; else vErrors = null; }\",e.opts.allErrors&&(a+=\" } \"),a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o=\" \",s=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,h=\"data\"+(i||\"\"),d=e.opts.$data&&n&&n.$data;d?(o+=\" var schema\"+s+\" = \"+e.util.getData(n.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+s):a=n,o+=\"if ( \",d&&(o+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'string') || \"),o+=\" !\"+(d?\"(new RegExp(\"+a+\"))\":e.usePattern(n))+\".test(\"+h+\") ) {   \";var f=f||[];f.push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: 'pattern' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { pattern:  \",o+=d?\"\"+a:\"\"+e.util.toQuotedString(n),o+=\"  } \",!1!==e.opts.messages&&(o+=\" , message: 'should match pattern \\\"\",o+=d?\"' + \"+a+\" + '\":\"\"+e.util.escapeQuotes(n),o+=\"\\\"' \"),e.opts.verbose&&(o+=\" , schema:  \",o+=d?\"validate.schema\"+l:\"\"+e.util.toQuotedString(n),o+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),o+=\" } \"):o+=\" {} \";var p=o;return o=f.pop(),!e.compositeRule&&u?e.async?o+=\" throw new ValidationError([\"+p+\"]); \":o+=\" validate.errors = [\"+p+\"]; return false; \":o+=\" var err = \"+p+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",o+=\"} \",u&&(o+=\" else { \"),o}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"errs__\"+o,d=e.util.copy(e),f=\"\";d.level++;var p=\"valid\"+d.level,m=\"key\"+o,v=\"idx\"+o,g=d.dataLevel=e.dataLevel+1,y=\"data\"+g,P=\"dataProperties\"+o,E=Object.keys(i||{}),w=e.schema.patternProperties||{},b=Object.keys(w),S=e.schema.additionalProperties,_=E.length||b.length,x=!1===S,I=\"object\"==typeof S&&Object.keys(S).length,F=e.opts.removeAdditional,R=x||I||F,D=e.opts.ownProperties,$=e.baseId,O=e.schema.required;if(O&&(!e.opts.$data||!O.$data)&&O.length<e.opts.loopRequired)var j=e.util.toHash(O);if(a+=\"var \"+h+\" = errors;var \"+p+\" = true;\",D&&(a+=\" var \"+P+\" = undefined;\"),R){if(a+=D?\" \"+P+\" = \"+P+\" || Object.keys(\"+u+\"); for (var \"+v+\"=0; \"+v+\"<\"+P+\".length; \"+v+\"++) { var \"+m+\" = \"+P+\"[\"+v+\"]; \":\" for (var \"+m+\" in \"+u+\") { \",_){if(a+=\" var isAdditional\"+o+\" = !(false \",E.length)if(E.length>8)a+=\" || validate.schema\"+n+\".hasOwnProperty(\"+m+\") \";else{var C=E;if(C)for(var A=-1,T=C.length-1;A<T;)K=C[A+=1],a+=\" || \"+m+\" == \"+e.util.toQuotedString(K)+\" \"}if(b.length){var k=b;if(k)for(var N=-1,z=k.length-1;N<z;)oe=k[N+=1],a+=\" || \"+e.usePattern(oe)+\".test(\"+m+\") \"}a+=\" ); if (isAdditional\"+o+\") { \"}if(\"all\"==F)a+=\" delete \"+u+\"[\"+m+\"]; \";else{var L=e.errorPath,V=\"' + \"+m+\" + '\";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),x)if(F)a+=\" delete \"+u+\"[\"+m+\"]; \";else{a+=\" \"+p+\" = false; \";var M=l;l=e.errSchemaPath+\"/additionalProperties\",(re=re||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { additionalProperty: '\"+V+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is an invalid additional property\":a+=\"should NOT have additional properties\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var U=a;a=re.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+U+\"]); \":a+=\" validate.errors = [\"+U+\"]; return false; \":a+=\" var err = \"+U+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",l=M,c&&(a+=\" break; \")}else if(I)if(\"failing\"==F){a+=\" var \"+h+\" = errors;  \";var q=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=S,d.schemaPath=e.schemaPath+\".additionalProperties\",d.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var Q=u+\"[\"+m+\"]\";d.dataPathArr[g]=m;var H=e.validate(d);d.baseId=$,e.util.varOccurences(H,y)<2?a+=\" \"+e.util.varReplace(H,y,Q)+\" \":a+=\" var \"+y+\" = \"+Q+\"; \"+H+\" \",a+=\" if (!\"+p+\") { errors = \"+h+\"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete \"+u+\"[\"+m+\"]; }  \",e.compositeRule=d.compositeRule=q}else{d.schema=S,d.schemaPath=e.schemaPath+\".additionalProperties\",d.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);Q=u+\"[\"+m+\"]\";d.dataPathArr[g]=m;H=e.validate(d);d.baseId=$,e.util.varOccurences(H,y)<2?a+=\" \"+e.util.varReplace(H,y,Q)+\" \":a+=\" var \"+y+\" = \"+Q+\"; \"+H+\" \",c&&(a+=\" if (!\"+p+\") break; \")}e.errorPath=L}_&&(a+=\" } \"),a+=\" }  \",c&&(a+=\" if (\"+p+\") { \",f+=\"}\")}var B=e.opts.useDefaults&&!e.compositeRule;if(E.length){var J=E;if(J)for(var K,Z=-1,G=J.length-1;Z<G;){var Y=i[K=J[Z+=1]];if(e.util.schemaHasRules(Y,e.RULES.all)){var W=e.util.getProperty(K),X=(Q=u+W,B&&void 0!==Y.default);d.schema=Y,d.schemaPath=n+W,d.errSchemaPath=l+\"/\"+e.util.escapeFragment(K),d.errorPath=e.util.getPath(e.errorPath,K,e.opts.jsonPointers),d.dataPathArr[g]=e.util.toQuotedString(K);H=e.validate(d);if(d.baseId=$,e.util.varOccurences(H,y)<2){H=e.util.varReplace(H,y,Q);var ee=Q}else{ee=y;a+=\" var \"+y+\" = \"+Q+\"; \"}if(X)a+=\" \"+H+\" \";else{if(j&&j[K]){a+=\" if ( \"+ee+\" === undefined \",D&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(K)+\"') \"),a+=\") { \"+p+\" = false; \";L=e.errorPath,M=l;var re,te=e.util.escapeQuotes(K);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(L,K,e.opts.jsonPointers)),l=e.errSchemaPath+\"/required\",(re=re||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { missingProperty: '\"+te+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+te+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";U=a;a=re.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+U+\"]); \":a+=\" validate.errors = [\"+U+\"]; return false; \":a+=\" var err = \"+U+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",l=M,e.errorPath=L,a+=\" } else { \"}else c?(a+=\" if ( \"+ee+\" === undefined \",D&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(K)+\"') \"),a+=\") { \"+p+\" = true; } else { \"):(a+=\" if (\"+ee+\" !== undefined \",D&&(a+=\" &&   Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(K)+\"') \"),a+=\" ) { \");a+=\" \"+H+\" } \"}}c&&(a+=\" if (\"+p+\") { \",f+=\"}\")}}if(b.length){var ae=b;if(ae)for(var oe,se=-1,ie=ae.length-1;se<ie;){Y=w[oe=ae[se+=1]];if(e.util.schemaHasRules(Y,e.RULES.all)){d.schema=Y,d.schemaPath=e.schemaPath+\".patternProperties\"+e.util.getProperty(oe),d.errSchemaPath=e.errSchemaPath+\"/patternProperties/\"+e.util.escapeFragment(oe),a+=D?\" \"+P+\" = \"+P+\" || Object.keys(\"+u+\"); for (var \"+v+\"=0; \"+v+\"<\"+P+\".length; \"+v+\"++) { var \"+m+\" = \"+P+\"[\"+v+\"]; \":\" for (var \"+m+\" in \"+u+\") { \",a+=\" if (\"+e.usePattern(oe)+\".test(\"+m+\")) { \",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);Q=u+\"[\"+m+\"]\";d.dataPathArr[g]=m;H=e.validate(d);d.baseId=$,e.util.varOccurences(H,y)<2?a+=\" \"+e.util.varReplace(H,y,Q)+\" \":a+=\" var \"+y+\" = \"+Q+\"; \"+H+\" \",c&&(a+=\" if (!\"+p+\") break; \"),a+=\" } \",c&&(a+=\" else \"+p+\" = true; \"),a+=\" }  \",c&&(a+=\" if (\"+p+\") { \",f+=\"}\")}}}return c&&(a+=\" \"+f+\" if (\"+h+\" == errors) {\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"errs__\"+o,d=e.util.copy(e);d.level++;var f=\"valid\"+d.level;if(a+=\"var \"+h+\" = errors;\",e.util.schemaHasRules(i,e.RULES.all)){d.schema=i,d.schemaPath=n,d.errSchemaPath=l;var p=\"key\"+o,m=\"idx\"+o,v=\"i\"+o,g=\"' + \"+p+\" + '\",y=\"data\"+(d.dataLevel=e.dataLevel+1),P=\"dataProperties\"+o,E=e.opts.ownProperties,w=e.baseId;E&&(a+=\" var \"+P+\" = undefined; \"),a+=E?\" \"+P+\" = \"+P+\" || Object.keys(\"+u+\"); for (var \"+m+\"=0; \"+m+\"<\"+P+\".length; \"+m+\"++) { var \"+p+\" = \"+P+\"[\"+m+\"]; \":\" for (var \"+p+\" in \"+u+\") { \",a+=\" var startErrs\"+o+\" = errors; \";var b=p,S=e.compositeRule;e.compositeRule=d.compositeRule=!0;var _=e.validate(d);d.baseId=w,e.util.varOccurences(_,y)<2?a+=\" \"+e.util.varReplace(_,y,b)+\" \":a+=\" var \"+y+\" = \"+b+\"; \"+_+\" \",e.compositeRule=d.compositeRule=S,a+=\" if (!\"+f+\") { for (var \"+v+\"=startErrs\"+o+\"; \"+v+\"<errors; \"+v+\"++) { vErrors[\"+v+\"].propertyName = \"+p+\"; }   var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'propertyNames' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { propertyName: '\"+g+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'property name \\\\'\"+g+\"\\\\' is invalid' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?a+=\" throw new ValidationError(vErrors); \":a+=\" validate.errors = vErrors; return false; \"),c&&(a+=\" break; \"),a+=\" } }\"}return c&&(a+=\"  if (\"+h+\" == errors) {\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a=\" \",o=e.level,s=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,c=!e.opts.allErrors,u=\"data\"+(s||\"\"),h=\"valid\"+o,d=e.opts.$data&&i&&i.$data;d&&(a+=\" var schema\"+o+\" = \"+e.util.getData(i.$data,s,e.dataPathArr)+\"; \");var f=\"schema\"+o;if(!d)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=i;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var P=e.schema.properties[v];P&&e.util.schemaHasRules(P,e.RULES.all)||(p[p.length]=v)}}else p=i;if(d||p.length){var E=e.errorPath,w=d||p.length>=e.opts.loopRequired,b=e.opts.ownProperties;if(c)if(a+=\" var missing\"+o+\"; \",w){d||(a+=\" var \"+f+\" = validate.schema\"+n+\"; \");var S=\"' + \"+(D=\"schema\"+o+\"[\"+(I=\"i\"+o)+\"]\")+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(E,D,e.opts.jsonPointers)),a+=\" var \"+h+\" = true; \",d&&(a+=\" if (schema\"+o+\" === undefined) \"+h+\" = true; else if (!Array.isArray(schema\"+o+\")) \"+h+\" = false; else {\"),a+=\" for (var \"+I+\" = 0; \"+I+\" < \"+f+\".length; \"+I+\"++) { \"+h+\" = \"+u+\"[\"+f+\"[\"+I+\"]] !== undefined \",b&&(a+=\" &&   Object.prototype.hasOwnProperty.call(\"+u+\", \"+f+\"[\"+I+\"]) \"),a+=\"; if (!\"+h+\") break; } \",d&&(a+=\"  }  \"),a+=\"  if (!\"+h+\") {   \",(R=R||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+S+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";var _=a;a=R.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+_+\"]); \":a+=\" validate.errors = [\"+_+\"]; return false; \":a+=\" var err = \"+_+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else { \"}else{a+=\" if ( \";var x=p;if(x)for(var I=-1,F=x.length-1;I<F;){O=x[I+=1],I&&(a+=\" || \"),a+=\" ( ( \"+(T=u+(A=e.util.getProperty(O)))+\" === undefined \",b&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(O)+\"') \"),a+=\") && (missing\"+o+\" = \"+e.util.toQuotedString(e.opts.jsonPointers?O:A)+\") ) \"}a+=\") {  \";var R;S=\"' + \"+(D=\"missing\"+o)+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(E,D,!0):E+\" + \"+D),(R=R||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+S+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \";_=a;a=R.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+_+\"]); \":a+=\" validate.errors = [\"+_+\"]; return false; \":a+=\" var err = \"+_+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else { \"}else if(w){d||(a+=\" var \"+f+\" = validate.schema\"+n+\"; \");var D;S=\"' + \"+(D=\"schema\"+o+\"[\"+(I=\"i\"+o)+\"]\")+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(E,D,e.opts.jsonPointers)),d&&(a+=\" if (\"+f+\" && !Array.isArray(\"+f+\")) {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+S+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (\"+f+\" !== undefined) { \"),a+=\" for (var \"+I+\" = 0; \"+I+\" < \"+f+\".length; \"+I+\"++) { if (\"+u+\"[\"+f+\"[\"+I+\"]] === undefined \",b&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", \"+f+\"[\"+I+\"]) \"),a+=\") {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+S+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } \",d&&(a+=\"  }  \")}else{var $=p;if($)for(var O,j=-1,C=$.length-1;j<C;){O=$[j+=1];var A=e.util.getProperty(O),T=(S=e.util.escapeQuotes(O),u+A);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(E,O,e.opts.jsonPointers)),a+=\" if ( \"+T+\" === undefined \",b&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(O)+\"') \"),a+=\") {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+S+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+n+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}e.errorPath=E}else c&&(a+=\" if (true) {\");return a}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o=\" \",s=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,h=\"data\"+(i||\"\"),d=\"valid\"+s,f=e.opts.$data&&n&&n.$data;if(f?(o+=\" var schema\"+s+\" = \"+e.util.getData(n.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+s):a=n,(n||f)&&!1!==e.opts.uniqueItems){f&&(o+=\" var \"+d+\"; if (\"+a+\" === false || \"+a+\" === undefined) \"+d+\" = true; else if (typeof \"+a+\" != 'boolean') \"+d+\" = false; else { \"),o+=\" var i = \"+h+\".length , \"+d+\" = true , j; if (i > 1) { \";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||\"object\"==p||\"array\"==p||m&&(p.indexOf(\"object\")>=0||p.indexOf(\"array\")>=0))o+=\" outer: for (;i--;) { for (j = i; j--;) { if (equal(\"+h+\"[i], \"+h+\"[j])) { \"+d+\" = false; break outer; } } } \";else{o+=\" var itemIndices = {}, item; for (;i--;) { var item = \"+h+\"[i]; \";var v=\"checkDataType\"+(m?\"s\":\"\");o+=\" if (\"+e.util[v](p,\"item\",!0)+\") continue; \",m&&(o+=\" if (typeof item == 'string') item = '\\\"' + item; \"),o+=\" if (typeof itemIndices[item] == 'number') { \"+d+\" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } \"}o+=\" } \",f&&(o+=\"  }  \"),o+=\" if (!\"+d+\") {   \";var g=g||[];g.push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { i: i, j: j } \",!1!==e.opts.messages&&(o+=\" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' \"),e.opts.verbose&&(o+=\" , schema:  \",o+=f?\"validate.schema\"+l:\"\"+n,o+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+h+\" \"),o+=\" } \"):o+=\" {} \";var y=o;o=g.pop(),!e.compositeRule&&u?e.async?o+=\" throw new ValidationError([\"+y+\"]); \":o+=\" validate.errors = [\"+y+\"]; return false; \":o+=\" var err = \"+y+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",o+=\" } \",u&&(o+=\" else { \")}else u&&(o+=\" if (true) { \");return o}},function(e,r,t){\"use strict\";var a=[\"multipleOf\",\"maximum\",\"exclusiveMaximum\",\"minimum\",\"exclusiveMinimum\",\"maxLength\",\"minLength\",\"pattern\",\"additionalItems\",\"maxItems\",\"minItems\",\"uniqueItems\",\"maxProperties\",\"minProperties\",\"required\",\"additionalProperties\",\"enum\",\"format\",\"const\"];e.exports=function(e,r){for(var t=0;t<r.length;t++){e=JSON.parse(JSON.stringify(e));var o,s=r[t].split(\"/\"),i=e;for(o=1;o<s.length;o++)i=i[s[o]];for(o=0;o<a.length;o++){var n=a[o],l=i[n];l&&(i[n]={anyOf:[l,{$ref:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#\"}]})}}return e}},function(e,r,t){\"use strict\";var a=t(6).MissingRef;e.exports=function e(r,t,o){var s=this;if(\"function\"!=typeof this._opts.loadSchema)throw new Error(\"options.loadSchema should be a function\");\"function\"==typeof t&&(o=t,t=void 0);var i=n(r).then(function(){var e=s._addSchema(r,void 0,t);return e.validate||function e(r){try{return s._compile(r)}catch(e){if(e instanceof a)return function o(e){var o=e.missingSchema;if(c(o))throw new Error(\"Schema \"+o+\" is loaded but \"+e.missingRef+\" cannot be resolved\");var i=s._loadingSchemas[o];i||(i=s._loadingSchemas[o]=s._opts.loadSchema(o)).then(l,l);return i.then(function(e){if(!c(o))return n(e).then(function(){c(o)||s.addSchema(e,o,void 0,t)})}).then(function(){return function e(r){try{return s._compile(r)}catch(e){if(e instanceof a)return o(e);throw e}function o(a){var o=a.missingSchema;if(c(o))throw new Error(\"Schema \"+o+\" is loaded but \"+a.missingRef+\" cannot be resolved\");var i=s._loadingSchemas[o];return i||(i=s._loadingSchemas[o]=s._opts.loadSchema(o)).then(l,l),i.then(function(e){if(!c(o))return n(e).then(function(){c(o)||s.addSchema(e,o,void 0,t)})}).then(function(){return e(r)});function l(){delete s._loadingSchemas[o]}function c(e){return s._refs[e]||s._schemas[e]}}}(r)});function l(){delete s._loadingSchemas[o]}function c(e){return s._refs[e]||s._schemas[e]}}(e);throw e}function o(a){var o=a.missingSchema;if(c(o))throw new Error(\"Schema \"+o+\" is loaded but \"+a.missingRef+\" cannot be resolved\");var i=s._loadingSchemas[o];return i||(i=s._loadingSchemas[o]=s._opts.loadSchema(o)).then(l,l),i.then(function(e){if(!c(o))return n(e).then(function(){c(o)||s.addSchema(e,o,void 0,t)})}).then(function(){return e(r)});function l(){delete s._loadingSchemas[o]}function c(e){return s._refs[e]||s._schemas[e]}}}(e)});o&&i.then(function(e){o(null,e)},o);return i;function n(r){var t=r.$schema;return t&&!s.getSchema(t)?e.call(s,{$ref:t},!0):Promise.resolve()}}},function(e,r,t){\"use strict\";var a=/^[a-z_$][a-z0-9_$-]*$/i,o=t(51);e.exports={add:function(e,r){var t=this.RULES;if(t.keywords[e])throw new Error(\"Keyword \"+e+\" is already defined\");if(!a.test(e))throw new Error(\"Keyword \"+e+\" is not a valid identifier\");if(r){if(r.macro&&void 0!==r.valid)throw new Error('\"valid\" option cannot be used with macro keywords');var s=r.type;if(Array.isArray(s)){var i,n=s.length;for(i=0;i<n;i++)h(s[i]);for(i=0;i<n;i++)u(e,s[i],r)}else s&&h(s),u(e,s,r);var l=!0===r.$data&&this._opts.$data;if(l&&!r.validate)throw new Error('$data support: \"validate\" function is not defined');var c=r.metaSchema;c&&(l&&(c={anyOf:[c,{$ref:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#\"}]}),r.validateSchema=this.compile(c,!0))}function u(e,r,a){for(var s,i=0;i<t.length;i++){var n=t[i];if(n.type==r){s=n;break}}s||(s={type:r,rules:[]},t.push(s));var l={keyword:e,definition:a,custom:!0,code:o,implements:a.implements};s.rules.push(l),t.custom[e]=l}function h(e){if(!t.types[e])throw new Error(\"Unknown type \"+e)}return t.keywords[e]=t.all[e]=!0,this},get:function(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1},remove:function(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,o=0;o<a.length;o++)if(a[o].keyword==e){a.splice(o,1);break}return this}}},function(e,r,t){\"use strict\";e.exports=function(e,r,t){var a,o,s=\" \",i=e.level,n=e.dataLevel,l=e.schema[r],c=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+\"/\"+r,h=!e.opts.allErrors,d=\"data\"+(n||\"\"),f=\"valid\"+i,p=\"errs__\"+i,m=e.opts.$data&&l&&l.$data;m?(s+=\" var schema\"+i+\" = \"+e.util.getData(l.$data,n,e.dataPathArr)+\"; \",o=\"schema\"+i):o=l;var v,g,y,P,E,w=\"definition\"+i,b=this.definition,S=\"\";if(m&&b.$data){E=\"keywordValidate\"+i;var _=b.validateSchema;s+=\" var \"+w+\" = RULES.custom['\"+r+\"'].definition; var \"+E+\" = \"+w+\".validate;\"}else{if(!(P=e.useCustomRule(this,l,e.schema,e)))return;o=\"validate.schema\"+c,E=P.code,v=b.compile,g=b.inline,y=b.macro}var x=E+\".errors\",I=\"i\"+i,F=\"ruleErr\"+i,R=b.async;if(R&&!e.async)throw new Error(\"async keyword in sync schema\");if(g||y||(s+=x+\" = null;\"),s+=\"var \"+p+\" = errors;var \"+f+\";\",m&&b.$data&&(S+=\"}\",s+=\" if (\"+o+\" === undefined) { \"+f+\" = true; } else { \",_&&(S+=\"}\",s+=\" \"+f+\" = \"+w+\".validateSchema(\"+o+\"); if (\"+f+\") { \")),g)b.statements?s+=\" \"+P.validate+\" \":s+=\" \"+f+\" = \"+P.validate+\"; \";else if(y){var D=e.util.copy(e);S=\"\";D.level++;var $=\"valid\"+D.level;D.schema=P.validate,D.schemaPath=\"\";var O=e.compositeRule;e.compositeRule=D.compositeRule=!0;var j=e.validate(D).replace(/validate\\.schema/g,E);e.compositeRule=D.compositeRule=O,s+=\" \"+j}else{(k=k||[]).push(s),s=\"\",s+=\"  \"+E+\".call( \",e.opts.passContext?s+=\"this\":s+=\"self\",v||!1===b.schema?s+=\" , \"+d+\" \":s+=\" , \"+o+\" , \"+d+\" , validate.schema\"+e.schemaPath+\" \",s+=\" , (dataPath || '')\",'\"\"'!=e.errorPath&&(s+=\" + \"+e.errorPath);var C=n?\"data\"+(n-1||\"\"):\"parentData\",A=n?e.dataPathArr[n]:\"parentDataProperty\",T=s+=\" , \"+C+\" , \"+A+\" , rootData )  \";s=k.pop(),!1===b.errors?(s+=\" \"+f+\" = \",R&&(s+=\"await \"),s+=T+\"; \"):s+=R?\" var \"+(x=\"customErrors\"+i)+\" = null; try { \"+f+\" = await \"+T+\"; } catch (e) { \"+f+\" = false; if (e instanceof ValidationError) \"+x+\" = e.errors; else throw e; } \":\" \"+x+\" = null; \"+f+\" = \"+T+\"; \"}if(b.modifying&&(s+=\" if (\"+C+\") \"+d+\" = \"+C+\"[\"+A+\"];\"),s+=\"\"+S,b.valid)h&&(s+=\" if (true) { \");else{var k;s+=\" if ( \",void 0===b.valid?(s+=\" !\",s+=y?\"\"+$:\"\"+f):s+=\" \"+!b.valid+\" \",s+=\") { \",a=this.keyword,(k=k||[]).push(s),s=\"\",(k=k||[]).push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: '\"+(a||\"custom\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==e.opts.messages&&(s+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),e.opts.verbose&&(s+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+d+\" \"),s+=\" } \"):s+=\" {} \";var N=s;s=k.pop(),!e.compositeRule&&h?e.async?s+=\" throw new ValidationError([\"+N+\"]); \":s+=\" validate.errors = [\"+N+\"]; return false; \":s+=\" var err = \"+N+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \";var z=s;s=k.pop(),g?b.errors?\"full\"!=b.errors&&(s+=\"  for (var \"+I+\"=\"+p+\"; \"+I+\"<errors; \"+I+\"++) { var \"+F+\" = vErrors[\"+I+\"]; if (\"+F+\".dataPath === undefined) \"+F+\".dataPath = (dataPath || '') + \"+e.errorPath+\"; if (\"+F+\".schemaPath === undefined) { \"+F+'.schemaPath = \"'+u+'\"; } ',e.opts.verbose&&(s+=\" \"+F+\".schema = \"+o+\"; \"+F+\".data = \"+d+\"; \"),s+=\" } \"):!1===b.errors?s+=\" \"+z+\" \":(s+=\" if (\"+p+\" == errors) { \"+z+\" } else {  for (var \"+I+\"=\"+p+\"; \"+I+\"<errors; \"+I+\"++) { var \"+F+\" = vErrors[\"+I+\"]; if (\"+F+\".dataPath === undefined) \"+F+\".dataPath = (dataPath || '') + \"+e.errorPath+\"; if (\"+F+\".schemaPath === undefined) { \"+F+'.schemaPath = \"'+u+'\"; } ',e.opts.verbose&&(s+=\" \"+F+\".schema = \"+o+\"; \"+F+\".data = \"+d+\"; \"),s+=\" } } \"):y?(s+=\"   var err =   \",!1!==e.createErrors?(s+=\" { keyword: '\"+(a||\"custom\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==e.opts.messages&&(s+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),e.opts.verbose&&(s+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+d+\" \"),s+=\" } \"):s+=\" {} \",s+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&h&&(e.async?s+=\" throw new ValidationError(vErrors); \":s+=\" validate.errors = vErrors; return false; \")):!1===b.errors?s+=\" \"+z+\" \":(s+=\" if (Array.isArray(\"+x+\")) { if (vErrors === null) vErrors = \"+x+\"; else vErrors = vErrors.concat(\"+x+\"); errors = vErrors.length;  for (var \"+I+\"=\"+p+\"; \"+I+\"<errors; \"+I+\"++) { var \"+F+\" = vErrors[\"+I+\"]; if (\"+F+\".dataPath === undefined) \"+F+\".dataPath = (dataPath || '') + \"+e.errorPath+\";  \"+F+'.schemaPath = \"'+u+'\";  ',e.opts.verbose&&(s+=\" \"+F+\".schema = \"+o+\"; \"+F+\".data = \"+d+\"; \"),s+=\" } } else { \"+z+\" } \"),s+=\" } \",h&&(s+=\" else { \")}return s}},function(e){e.exports={$schema:\"http://json-schema.org/draft-07/schema#\",$id:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#\",description:\"Meta-schema for $data reference (JSON Schema extension proposal)\",type:\"object\",required:[\"$data\"],properties:{$data:{type:\"string\",anyOf:[{format:\"relative-json-pointer\"},{format:\"json-pointer\"}]}},additionalProperties:!1}},function(e){e.exports={$schema:\"http://json-schema.org/draft-07/schema#\",$id:\"http://json-schema.org/draft-07/schema#\",title:\"Core schema meta-schema\",definitions:{schemaArray:{type:\"array\",minItems:1,items:{$ref:\"#\"}},nonNegativeInteger:{type:\"integer\",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:\"#/definitions/nonNegativeInteger\"},{default:0}]},simpleTypes:{enum:[\"array\",\"boolean\",\"integer\",\"null\",\"number\",\"object\",\"string\"]},stringArray:{type:\"array\",items:{type:\"string\"},uniqueItems:!0,default:[]}},type:[\"object\",\"boolean\"],properties:{$id:{type:\"string\",format:\"uri-reference\"},$schema:{type:\"string\",format:\"uri\"},$ref:{type:\"string\",format:\"uri-reference\"},$comment:{type:\"string\"},title:{type:\"string\"},description:{type:\"string\"},default:!0,readOnly:{type:\"boolean\",default:!1},examples:{type:\"array\",items:!0},multipleOf:{type:\"number\",exclusiveMinimum:0},maximum:{type:\"number\"},exclusiveMaximum:{type:\"number\"},minimum:{type:\"number\"},exclusiveMinimum:{type:\"number\"},maxLength:{$ref:\"#/definitions/nonNegativeInteger\"},minLength:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},pattern:{type:\"string\",format:\"regex\"},additionalItems:{$ref:\"#\"},items:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/schemaArray\"}],default:!0},maxItems:{$ref:\"#/definitions/nonNegativeInteger\"},minItems:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},uniqueItems:{type:\"boolean\",default:!1},contains:{$ref:\"#\"},maxProperties:{$ref:\"#/definitions/nonNegativeInteger\"},minProperties:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},required:{$ref:\"#/definitions/stringArray\"},additionalProperties:{$ref:\"#\"},definitions:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},properties:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},patternProperties:{type:\"object\",additionalProperties:{$ref:\"#\"},propertyNames:{format:\"regex\"},default:{}},dependencies:{type:\"object\",additionalProperties:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/stringArray\"}]}},propertyNames:{$ref:\"#\"},const:!0,enum:{type:\"array\",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:\"#/definitions/simpleTypes\"},{type:\"array\",items:{$ref:\"#/definitions/simpleTypes\"},minItems:1,uniqueItems:!0}]},format:{type:\"string\"},contentMediaType:{type:\"string\"},contentEncoding:{type:\"string\"},if:{$ref:\"#\"},then:{$ref:\"#\"},else:{$ref:\"#\"},allOf:{$ref:\"#/definitions/schemaArray\"},anyOf:{$ref:\"#/definitions/schemaArray\"},oneOf:{$ref:\"#/definitions/schemaArray\"},not:{$ref:\"#\"}},default:!0}},function(e,r){function t(e){var r=[];for(var t in e)r.push(t);return r}(e.exports=\"function\"==typeof Object.keys?Object.keys:t).shim=t},function(e,r){var t=\"[object Arguments]\"==function(){return Object.prototype.toString.call(arguments)}();function a(e){return\"[object Arguments]\"==Object.prototype.toString.call(e)}function o(e){return e&&\"object\"==typeof e&&\"number\"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,\"callee\")&&!Object.prototype.propertyIsEnumerable.call(e,\"callee\")||!1}(r=e.exports=t?a:o).supported=a,r.unsupported=o},function(e){e.exports={id:\"http://json-schema.org/draft-04/schema#\",$schema:\"http://json-schema.org/draft-04/schema#\",description:\"Core schema meta-schema\",definitions:{schemaArray:{type:\"array\",minItems:1,items:{$ref:\"#\"}},positiveInteger:{type:\"integer\",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:\"#/definitions/positiveInteger\"},{default:0}]},simpleTypes:{enum:[\"array\",\"boolean\",\"integer\",\"null\",\"number\",\"object\",\"string\"]},stringArray:{type:\"array\",items:{type:\"string\"},minItems:1,uniqueItems:!0}},type:\"object\",properties:{id:{type:\"string\",format:\"uri\"},$schema:{type:\"string\",format:\"uri\"},title:{type:\"string\"},description:{type:\"string\"},default:{},multipleOf:{type:\"number\",minimum:0,exclusiveMinimum:!0},maximum:{type:\"number\"},exclusiveMaximum:{type:\"boolean\",default:!1},minimum:{type:\"number\"},exclusiveMinimum:{type:\"boolean\",default:!1},maxLength:{$ref:\"#/definitions/positiveInteger\"},minLength:{$ref:\"#/definitions/positiveIntegerDefault0\"},pattern:{type:\"string\",format:\"regex\"},additionalItems:{anyOf:[{type:\"boolean\"},{$ref:\"#\"}],default:{}},items:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/schemaArray\"}],default:{}},maxItems:{$ref:\"#/definitions/positiveInteger\"},minItems:{$ref:\"#/definitions/positiveIntegerDefault0\"},uniqueItems:{type:\"boolean\",default:!1},maxProperties:{$ref:\"#/definitions/positiveInteger\"},minProperties:{$ref:\"#/definitions/positiveIntegerDefault0\"},required:{$ref:\"#/definitions/stringArray\"},additionalProperties:{anyOf:[{type:\"boolean\"},{$ref:\"#\"}],default:{}},definitions:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},properties:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},patternProperties:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},dependencies:{type:\"object\",additionalProperties:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/stringArray\"}]}},enum:{type:\"array\",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:\"#/definitions/simpleTypes\"},{type:\"array\",items:{$ref:\"#/definitions/simpleTypes\"},minItems:1,uniqueItems:!0}]},allOf:{$ref:\"#/definitions/schemaArray\"},anyOf:{$ref:\"#/definitions/schemaArray\"},oneOf:{$ref:\"#/definitions/schemaArray\"},not:{$ref:\"#\"}},dependencies:{exclusiveMaximum:[\"maximum\"],exclusiveMinimum:[\"minimum\"]},default:{}}},function(e,r,t){\"use strict\";t.r(r);var a=t(3),o=t.n(a),s=t(1),i=t.n(s),n=function(e){this.moduleName=e};[\"log\",\"info\",\"warn\",\"error\"].forEach(function(e){n.prototype[e]=function(){if(n.enabled){for(var r,t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];(r=console)[e].apply(r,[\"[\"+this.moduleName+\"]\"].concat(a))}}}),n.enabled=!1;var l,c=n,u=new c(\"ExtensionBridge:Parent\"),h=function(){},d=window.Promise,f=\"connectionTimeout\",p=\"renderTimeout\",m=\"destroyed\",v=t(15),g=t.n(v),y=t(16),P=t.n(y),E=t(7),w=t.n(E);l=o.a,d=l,i.a.Promise=l;const b=\"configuration\",S=[{value:b,label:\"Extension Configuration\"},{value:\"events\",label:\"Events\"},{value:\"conditions\",label:\"Conditions\"},{value:\"actions\",label:\"Actions\"},{value:\"dataElements\",label:\"Data Elements\"}],_={lineNumbers:!0,mode:\"application/json\",gutters:[\"CodeMirror-lint-markers\"],lint:!0,value:\"{}\",extraKeys:{Tab:e=>{e.replaceSelection(\"  \",\"end\")}}},x=()=>o.a.resolve(\"Edited Code \"+Math.round(1e4*Math.random())),I=()=>o.a.resolve(\"Edited Regex \"+Math.round(1e4*Math.random())),F=(e={})=>{let r=\"dataElement\"+Math.round(1e4*Math.random());return!1!==e.tokenize&&(r=`%${r}%`),r},R=()=>{},D=e=>{throw alert(\"An error has occurred. Please see the browser console.\"),e};document.addEventListener(\"DOMContentLoaded\",()=>{extensionDescriptor.platform&&\"web\"===extensionDescriptor.platform||(document.querySelector('[href=\"libSandbox.html\"]').style.display=\"none\");const e=document.getElementById(\"viewGroupSelector\"),r=document.getElementById(\"extensionViewSelector\"),a=document.getElementById(\"validateButton\"),o=document.getElementById(\"validateOutput\"),s=CodeMirror(document.getElementById(\"initEditorContainer\"),_),n=document.getElementById(\"initButton\"),l=document.getElementById(\"resetInitButton\"),c=CodeMirror(document.getElementById(\"getSettingsEditorContainer\"),_),v=document.getElementById(\"getSettingsButton\"),y=document.getElementById(\"copySettingsToInitButton\"),E=document.getElementById(\"extensionViewPane\"),$=localStorage.getItem(\"lastSelectedView\"),O=localStorage.getItem(\"lastSelectedViewGroup\"),j=()=>{(e=>e.innerHTML=\"\")(r);const t=e.value;localStorage.setItem(\"lastSelectedViewGroup\",t);const a=(e=>{var r={};return e&&e.forEach(e=>{var t=e.categoryName||\"--N/A--\";r[t]||(r[t]=[]),r[t].push(e)}),Object.keys(r).forEach(e=>{r[e].sort((e,r)=>e.displayName<r.displayName?-1:e.displayName>r.displayName?1:0)}),r})(extensionDescriptor[t]);Object.keys(a).sort((e,r)=>{const t=[\"--N/A--\",\"Other\"];for(let a=0;a<t.length;a++)if(e===t[a]||r===t[a])return e===t[a]?1:-1;return e<r?-1:e>r?1:0}).forEach(e=>{let t;\"--N/A--\"!==e?((t=document.createElement(\"optgroup\")).label=e,r.appendChild(t)):t=r,a[e].forEach(e=>{const r=document.createElement(\"option\");r.value=e.viewPath?\"extensionViews/\"+extensionDescriptor.name+\"/\"+extensionDescriptor.version+\"/\"+e.viewPath:\"noConfigIframe.html\",r.text=e.displayName,r.descriptor=e,r.selected=e.name===$,t.appendChild(r)})}),t===b?r.setAttribute(\"hidden\",\"hidden\"):r.removeAttribute(\"hidden\")},C=()=>{if(-1!==r.selectedIndex){const e=r.options[r.selectedIndex];return localStorage.setItem(\"lastSelectedView\",e.descriptor.name),e.value}};let A,T;const k=e=>{s.setValue(JSON.stringify(e,null,2))},N=()=>{const r=L(),t={settings:null};return(()=>{if(-1!==e.selectedIndex)return e.options[e.selectedIndex].value})()!==b&&(t.extensionSettings={foo:\"bar\"}),t.propertySettings={domains:[\"adobe.com\",\"example.com\"],linkDelay:100,trackingCookieName:\"sat_track\",undefinedVarsReturnEmpty:!1},t.tokens={imsAccess:\"X34DF56GHHBBFFGH\"},t.company={orgId:\"ABCDEFGHIJKLMNOPQRSTUVWX@AdobeOrg\"},t.schema=r?r.schema:null,t},z=()=>{A&&A.destroy();const e=C();if(e){const r=N(),t=M();let a;t&&!w()(t,r)?(a=t,l.disabled=!1):(a=r,l.disabled=!0),k(a),c.setValue(\"{}\"),o.innerHTML=\"\",(A=function(e){var r=e.url,t=e.extensionInitOptions,a=void 0===t?{}:t,o=e.container,s=void 0===o?document.body:o,n=e.connectionTimeoutDuration,l=void 0===n?1e4:n,c=e.renderTimeoutDuration,v=void 0===c?2e3:c,g=e.openCodeEditor,y=void 0===g?h:g,P=e.openRegexTester,E=void 0===P?h:P,w=e.openDataElementSelector,b=void 0===w?h:w,S=e.markAsDirty,_=void 0===S?h:S,x=void 0,I=void 0,F=function(e){return function(){return d.resolve(e.apply(void 0,arguments))}},R=new d(function(e,t){var o=void 0,n=i.a.connectToChild({url:r,appendTo:s,timeout:l,methods:{openCodeEditor:F(y),openRegexTester:F(E),openDataElementSelector:F(b),extensionRegistered:function(){u.log(\"Extension registered.\"),n.promise.then(function(r){r.init(a).then(function(){clearTimeout(o),u.log(\"Extension initialized.\"),e({init:r.init,validate:r.validate,getSettings:r.getSettings})}).catch(function(e){clearTimeout(o),t(e)})})},markAsDirty:_}});n.promise.then(function(){o=setTimeout(function(){t(p),x()},v)},function(e){e.code===i.a.ERR_CONNECTION_TIMEOUT?t(f):t(e)}),x=function(){t(m),n.destroy()},I=n.iframe});return I.setAttribute(\"sandbox\",\"allow-same-origin allow-scripts allow-popups\"),{promise:R,iframe:I,destroy:x}}({url:e,container:E,extensionInitOptions:a,openCodeEditor:x,openRegexTester:I,openDataElementSelector:F,markAsDirty:R})).promise.then(e=>T=e).catch(D)}},L=()=>{if(-1!==r.selectedIndex)return r.options[r.selectedIndex].descriptor},V=e=>fetch(e).then(e=>e.json()),M=()=>JSON.parse(localStorage.getItem(\"initInfo\")||\"{}\")[C()],U=e=>{const r=JSON.parse(localStorage.getItem(\"initInfo\")||\"{}\");r[C()]=e,localStorage.setItem(\"initInfo\",JSON.stringify(r))};extensionDescriptor.configuration&&(extensionDescriptor.configuration=[extensionDescriptor.configuration]),S.forEach(r=>{var t=extensionDescriptor[r.value];if(t&&t.length){var a=document.createElement(\"option\");a.value=r.value,a.text=r.label,a.selected=r.value===O,e.appendChild(a)}}),j(),e.addEventListener(\"change\",()=>{j(),z()}),a.addEventListener(\"click\",()=>{T.validate().then(e=>{if(e){const e=L();if(e&&e.schema)return T.getSettings().then(r=>{const a=g()({loadSchema:V,schemaId:\"auto\"});a.addMetaSchema(t(56)),a.compileAsync(e.schema).then(e=>{const t=e(r);o.innerHTML=t?\"Valid\":'<span class=\"error\">Settings object does not match schema</span>'})});o.innerHTML='<span class=\"error\">Schema not defined</span>'}else o.innerHTML=\"Invalid\"}).catch(D)}),v.addEventListener(\"click\",()=>{T.getSettings().then(e=>{c.setValue(JSON.stringify(e,null,2))}).catch(D)}),y.addEventListener(\"click\",()=>{T.getSettings().then(e=>{let r;try{r=JSON.parse(s.getValue())}catch(e){alert(\"Unable to copy settings to init panel. Init panel contents is not valid JSON.\")}r.settings=e,k(r)}).catch(D)}),n.addEventListener(\"click\",()=>{const e=JSON.parse(s.getValue()),r=N();w()(e,r)||(U(e),l.disabled=!1),T.init(e).catch(D)}),l.addEventListener(\"click\",()=>{const e=N();U(null),k(e),l.disabled=!0,T.init(e).catch(D)}),r.addEventListener(\"change\",z),P()([\"#extensionViewPane\",\"#controlPane\"],{minSize:0,sizes:[65,35]}),z(),document.querySelector(\"coral-panelstack\").addEventListener(\"coral-panelstack:change\",()=>{setTimeout(()=>{s.refresh(),c.refresh()},50)})})}]);","extractedComments":[]}